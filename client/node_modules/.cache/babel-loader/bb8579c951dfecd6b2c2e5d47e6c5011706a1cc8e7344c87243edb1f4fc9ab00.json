{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AYUSH\\\\OneDrive\\\\Desktop\\\\gwoc\\\\client\\\\src\\\\pages\\\\ProductDetails.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst palette = {\n  deep: '#442D1C',\n  ember: '#652810',\n  copper: '#8E5022',\n  flame: '#C85428',\n  sand: '#EDD8B4',\n  lightSand: '#F9F3E9',\n  white: '#FFFFFF'\n};\nconst ProductDetails = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const user = JSON.parse(localStorage.getItem('user'));\n  const [product, setProduct] = useState(null);\n  const [mainImage, setMainImage] = useState('');\n  const [showModal, setShowModal] = useState(false);\n\n  // --- LOADING STATES ---\n  const [pageLoading, setPageLoading] = useState(true); // Initial fetch\n  const [actionLoading, setActionLoading] = useState(false); // Button actions (OTP/Pay)\n\n  const [addressForm, setAddressForm] = useState({\n    address: '',\n    city: '',\n    zip: '',\n    phone: ''\n  });\n  const [otp, setOtp] = useState('');\n  const [otpSent, setOtpSent] = useState(false);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        // 1. Fetch Product\n        const productRes = await axios.get(`https://gwoc-basho-1.onrender.com/api/products/${id}`);\n        setProduct(productRes.data);\n        if (productRes.data.images && productRes.data.images.length > 0) {\n          setMainImage(productRes.data.images[0]);\n        }\n\n        // 2. Fetch User Address (if logged in)\n        if (user && (user.id || user._id)) {\n          const userId = user.id || user._id;\n          const userRes = await axios.get(`https://gwoc-basho-1.onrender.com/api/auth/profile/${userId}`);\n          setAddressForm({\n            address: userRes.data.address || '',\n            city: userRes.data.city || '',\n            zip: userRes.data.zip || '',\n            phone: userRes.data.phone || ''\n          });\n        }\n      } catch (err) {\n        console.error(err);\n      } finally {\n        // Stop loading animation\n        setTimeout(() => setPageLoading(false), 500);\n      }\n    };\n    fetchData();\n  }, [id]);\n  const initiateBuy = () => {\n    if (!user) {\n      alert(\"Please login to buy\");\n      navigate('/login');\n      return;\n    }\n    setShowModal(true);\n  };\n  const requestOtp = async e => {\n    e.preventDefault();\n    setActionLoading(true); // Start button spinner\n    try {\n      await axios.post('https://gwoc-basho-1.onrender.com/api/auth/req-otp', {\n        email: user.email\n      });\n      setOtpSent(true);\n      alert(\"OTP sent to email for confirmation!\");\n    } catch (err) {\n      alert(\"Failed to send OTP\");\n    } finally {\n      setActionLoading(false); // Stop button spinner\n    }\n  };\n  const loadRazorpay = () => {\n    return new Promise(resolve => {\n      const script = document.createElement('script');\n      script.src = 'https://checkout.razorpay.com/v1/checkout.js';\n      script.onload = () => resolve(true);\n      script.onerror = () => resolve(false);\n      document.body.appendChild(script);\n    });\n  };\n  const confirmOrder = async e => {\n    e.preventDefault();\n    if (!product) return;\n    if (!otp) return alert(\"Please enter OTP\");\n    setActionLoading(true); // Start button spinner\n\n    try {\n      // 1. Load Script\n      const res = await loadRazorpay();\n      if (!res) {\n        alert('Razorpay SDK failed to load. Are you online?');\n        setActionLoading(false);\n        return;\n      }\n\n      // 2. Create Order on Server\n      const orderPayload = {\n        productId: product._id,\n        amount: product.price\n      };\n      const result = await axios.post('https://gwoc-basho-1.onrender.com/api/payment/create-order', orderPayload);\n      const {\n        amount,\n        id: order_id,\n        currency\n      } = result.data;\n\n      // 3. Configure Razorpay Options\n      const options = {\n        key: \"rzp_test_RxSehrjb5BD4XK\",\n        // ðŸ”´ REPLACE WITH YOUR KEY ID\n        amount: amount.toString(),\n        currency: currency,\n        name: \"Basho Pottery\",\n        description: `Order for ${product.name}`,\n        image: \"https://your-logo-url.com/logo.png\",\n        order_id: order_id,\n        handler: async function (response) {\n          const paymentData = {\n            razorpay_order_id: response.razorpay_order_id,\n            razorpay_payment_id: response.razorpay_payment_id,\n            razorpay_signature: response.razorpay_signature,\n            customerName: user.name,\n            email: user.email,\n            otp: otp,\n            amount: product.price,\n            orderType: 'STANDARD',\n            productId: product._id,\n            productName: product.name,\n            productImage: product.images[0],\n            address: addressForm.address,\n            city: addressForm.city,\n            zip: addressForm.zip,\n            phone: addressForm.phone\n          };\n          try {\n            const verifyRes = await axios.post('https://gwoc-basho-1.onrender.com/api/buy', paymentData);\n            if (verifyRes.data.success) {\n              alert(\"Payment Successful! Order Placed.\");\n              setShowModal(false);\n              navigate('/my-orders');\n            }\n          } catch (err) {\n            var _err$response, _err$response$data;\n            alert(\"Payment Verified Failed: \" + (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Error\"));\n          }\n        },\n        modal: {\n          ondismiss: function () {\n            setActionLoading(false); // Stop loading\n            console.log('Payment cancelled by user');\n          }\n        },\n        prefill: {\n          name: user.name,\n          email: user.email,\n          contact: addressForm.phone\n        },\n        theme: {\n          color: \"#C85428\"\n        },\n        // Stop loading if user closes modal\n        modal: {\n          ondismiss: function () {\n            setActionLoading(false);\n          }\n        }\n      };\n      const paymentObject = new window.Razorpay(options);\n      paymentObject.open();\n\n      // Note: We don't setActionLoading(false) here immediately, \n      // we wait for the modal ondismiss or handler.\n    } catch (err) {\n      console.error(err);\n      alert(\"Could not initiate payment.\");\n      setActionLoading(false);\n    }\n  };\n  const CLOUD_NAME = \"dnbplr9pw\";\n  // --- PAGE SPINNER ---\n  if (pageLoading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minHeight: '100vh',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      background: palette.lightSand\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n                @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }\n                .spinner-large { width: 50px; height: 50px; border: 4px solid rgba(200, 84, 40, 0.2); border-top-color: ${palette.flame}; border-radius: 50%; animation: spin 1s linear infinite; }\n            `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"spinner-large\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 201,\n    columnNumber: 9\n  }, this);\n  if (!product) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '40px',\n      textAlign: 'center'\n    },\n    children: \"Product not found.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 210,\n    columnNumber: 26\n  }, this);\n  const styles = {\n    page: {\n      padding: '40px 20px',\n      maxWidth: '1200px',\n      margin: '0 auto',\n      background: `linear-gradient(180deg, ${palette.lightSand}, rgba(237,216,180,0.2))`,\n      minHeight: '100vh',\n      fontFamily: 'Arial, sans-serif'\n    },\n    input: {\n      padding: '12px',\n      borderRadius: '10px',\n      border: `1px solid ${palette.copper}40`,\n      backgroundColor: 'rgba(255,255,255,0.9)',\n      width: '100%',\n      boxSizing: 'border-box',\n      fontSize: '1rem'\n    },\n    btnPrimary: {\n      background: `linear-gradient(135deg, ${palette.flame}, ${palette.copper})`,\n      color: 'white',\n      border: 'none',\n      padding: '15px 40px',\n      fontSize: '1.2rem',\n      borderRadius: '999px',\n      cursor: 'pointer',\n      fontWeight: 'bold',\n      boxShadow: '0 12px 22px rgba(200,84,40,0.24)'\n    },\n    changeAddressLink: {\n      color: palette.flame,\n      textDecoration: 'underline',\n      cursor: 'pointer',\n      fontSize: '0.9rem',\n      marginLeft: 'auto',\n      display: 'block',\n      width: 'fit-content',\n      marginBottom: '5px'\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"product-details\",\n    style: styles.page,\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n                @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Poppins:wght@300;400;600&display=swap');\n\n                .product-details { font-family: 'Poppins', sans-serif; }\n                \n                .details-layout { display: flex; gap: 40px; flex-direction: column; opacity: 0; animation: fadeIn 0.8s ease forwards; }\n                @media (min-width: 900px) { .details-layout { flex-direction: row; } }\n                \n                .details-gallery { flex: 1; min-width: 0; }\n                .details-info { flex: 1; display: flex; flex-direction: column; justify-content: center; }\n                \n                .modal-content { width: 90%; max-width: 450px; background: ${palette.white}; padding: 30px; borderRadius: 20px; box-shadow: 0 20px 60px rgba(68,45,28,0.2); border: 1px solid ${palette.copper}20; animation: scaleIn 0.3s ease; }\n                \n                input:focus { outline: none; border-color: ${palette.flame} !important; box-shadow: 0 0 0 3px rgba(200,84,40,0.1); background: white !important; }\n                \n                /* ANIMATIONS */\n                @keyframes scaleIn { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }\n                @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }\n                @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }\n                \n                .spinner-small {\n                    width: 20px; height: 20px; \n                    border: 2px solid rgba(255,255,255,0.3); \n                    border-top-color: white; \n                    border-radius: 50%; \n                    animation: spin 0.8s linear infinite;\n                    display: inline-block;\n                }\n            `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"details-layout\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"details-gallery\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            border: `1px solid ${palette.copper}20`,\n            padding: '20px',\n            marginBottom: '15px',\n            borderRadius: '20px',\n            background: 'white',\n            boxShadow: '0 10px 30px rgba(0,0,0,0.05)'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: mainImage ? mainImage.startsWith('http') ? mainImage : `https://res.cloudinary.com/${CLOUD_NAME}/image/upload/${mainImage}` : product.image ? product.image.startsWith('http') ? product.image : `https://res.cloudinary.com/${CLOUD_NAME}/image/upload/${product.image}` : 'https://via.placeholder.com/300',\n            alt: \"Main\",\n            style: {\n              width: '100%',\n              height: 'auto',\n              maxHeight: '500px',\n              objectFit: 'contain',\n              display: 'block',\n              borderRadius: '10px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"thumbs\",\n          style: {\n            display: 'flex',\n            gap: '10px',\n            overflowX: 'auto',\n            paddingBottom: '5px'\n          },\n          children: product.images && product.images.map((img, index) => /*#__PURE__*/_jsxDEV(\"img\", {\n            src: img.startsWith('http') ? img : `https://res.cloudinary.com/${CLOUD_NAME}/image/upload/${img}`,\n            alt: \"thumb\",\n            onClick: () => setMainImage(img),\n            style: {\n              width: '80px',\n              height: '80px',\n              objectFit: 'cover',\n              border: mainImage === img ? `2px solid ${palette.flame}` : `2px solid transparent`,\n              cursor: 'pointer',\n              borderRadius: '12px',\n              flexShrink: 0,\n              transition: 'all 0.2s',\n              opacity: mainImage === img ? 1 : 0.7\n            }\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"details-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            fontFamily: 'Playfair Display, serif',\n            fontSize: '3rem',\n            marginTop: 0,\n            marginBottom: '10px',\n            color: palette.deep,\n            lineHeight: 1.1\n          },\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '60px',\n            height: '4px',\n            background: palette.flame,\n            marginBottom: '20px',\n            borderRadius: '2px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '1.1rem',\n            color: '#555',\n            lineHeight: '1.8',\n            whiteSpace: 'pre-line',\n            marginBottom: '30px'\n          },\n          children: product.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: 'white',\n            padding: '20px',\n            borderRadius: '16px',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'space-between',\n            boxShadow: '0 5px 15px rgba(0,0,0,0.05)'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                display: 'block',\n                fontSize: '0.9rem',\n                color: '#888',\n                textTransform: 'uppercase',\n                letterSpacing: '1px'\n              },\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              style: {\n                color: palette.deep,\n                fontSize: '2rem',\n                margin: 0,\n                fontWeight: '700'\n              },\n              children: [\"\\u20B9\", product.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: initiateBuy,\n            style: styles.btnPrimary,\n            children: \"Buy Now\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 13\n    }, this), showModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        background: 'rgba(68,45,28,0.6)',\n        backdropFilter: 'blur(5px)',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        zIndex: 1000\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            fontFamily: 'Playfair Display, serif',\n            marginTop: 0,\n            textAlign: 'center',\n            color: palette.deep,\n            fontSize: '1.8rem'\n          },\n          children: \"Shipping Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'right',\n            marginBottom: '15px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate('/profile'),\n            style: {\n              background: 'none',\n              border: 'none',\n              ...styles.changeAddressLink\n            },\n            children: \"Update Saved Address \\u279C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: otpSent ? confirmOrder : requestOtp,\n          style: {\n            display: 'flex',\n            flexDirection: 'column',\n            gap: '15px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            required: true,\n            placeholder: \"Street Address\",\n            value: addressForm.address,\n            onChange: e => setAddressForm({\n              ...addressForm,\n              address: e.target.value\n            }),\n            style: styles.input,\n            disabled: otpSent || actionLoading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              required: true,\n              placeholder: \"City\",\n              value: addressForm.city,\n              onChange: e => setAddressForm({\n                ...addressForm,\n                city: e.target.value\n              }),\n              style: styles.input,\n              disabled: otpSent || actionLoading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              required: true,\n              placeholder: \"Zip Code\",\n              value: addressForm.zip,\n              onChange: e => setAddressForm({\n                ...addressForm,\n                zip: e.target.value\n              }),\n              style: styles.input,\n              disabled: otpSent || actionLoading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            required: true,\n            placeholder: \"Phone Number\",\n            value: addressForm.phone,\n            onChange: e => setAddressForm({\n              ...addressForm,\n              phone: e.target.value\n            }),\n            style: styles.input,\n            disabled: otpSent || actionLoading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 29\n          }, this), otpSent && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              background: '#FFF5F0',\n              padding: '15px',\n              border: `1px dashed ${palette.flame}`,\n              borderRadius: '10px',\n              textAlign: 'center',\n              animation: 'fadeIn 0.5s'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: '0 0 10px 0',\n                fontSize: '0.9rem',\n                color: palette.ember\n              },\n              children: [\"Enter OTP sent to \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: user.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 59\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"\\u2022 \\u2022 \\u2022 \\u2022 \\u2022 \\u2022\",\n              value: otp,\n              onChange: e => setOtp(e.target.value),\n              required: true,\n              style: {\n                ...styles.input,\n                textAlign: 'center',\n                fontWeight: 'bold',\n                letterSpacing: '4px',\n                fontSize: '1.2rem',\n                width: '80%',\n                margin: '0 auto',\n                display: 'block'\n              },\n              disabled: actionLoading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '10px',\n              marginTop: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setShowModal(false),\n              disabled: actionLoading,\n              style: {\n                flex: 1,\n                background: 'transparent',\n                color: '#888',\n                padding: '12px',\n                border: '1px solid #ddd',\n                borderRadius: '10px',\n                cursor: 'pointer',\n                fontWeight: '600'\n              },\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: actionLoading,\n              style: {\n                flex: 1,\n                background: otpSent ? palette.flame : palette.deep,\n                color: 'white',\n                padding: '12px',\n                border: 'none',\n                borderRadius: '10px',\n                cursor: actionLoading ? 'not-allowed' : 'pointer',\n                fontWeight: 'bold',\n                fontSize: '1rem',\n                boxShadow: '0 4px 10px rgba(0,0,0,0.2)',\n                display: 'flex',\n                justifyContent: 'center',\n                alignItems: 'center'\n              },\n              children: actionLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"spinner-small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 41\n              }, this) : otpSent ? \"Confirm Payment\" : \"Verify Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 220,\n    columnNumber: 9\n  }, this);\n};\n_s(ProductDetails, \"7GAmiSu9EXvRX/mTSBvcrcpy3/I=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = ProductDetails;\nexport default ProductDetails;\nvar _c;\n$RefreshReg$(_c, \"ProductDetails\");","map":{"version":3,"names":["React","useState","useEffect","axios","useParams","useNavigate","jsxDEV","_jsxDEV","palette","deep","ember","copper","flame","sand","lightSand","white","ProductDetails","_s","id","navigate","user","JSON","parse","localStorage","getItem","product","setProduct","mainImage","setMainImage","showModal","setShowModal","pageLoading","setPageLoading","actionLoading","setActionLoading","addressForm","setAddressForm","address","city","zip","phone","otp","setOtp","otpSent","setOtpSent","fetchData","productRes","get","data","images","length","_id","userId","userRes","err","console","error","setTimeout","initiateBuy","alert","requestOtp","e","preventDefault","post","email","loadRazorpay","Promise","resolve","script","document","createElement","src","onload","onerror","body","appendChild","confirmOrder","res","orderPayload","productId","amount","price","result","order_id","currency","options","key","toString","name","description","image","handler","response","paymentData","razorpay_order_id","razorpay_payment_id","razorpay_signature","customerName","orderType","productName","productImage","verifyRes","success","_err$response","_err$response$data","message","modal","ondismiss","log","prefill","contact","theme","color","paymentObject","window","Razorpay","open","CLOUD_NAME","style","minHeight","display","justifyContent","alignItems","background","children","fileName","_jsxFileName","lineNumber","columnNumber","className","padding","textAlign","styles","page","maxWidth","margin","fontFamily","input","borderRadius","border","backgroundColor","width","boxSizing","fontSize","btnPrimary","cursor","fontWeight","boxShadow","changeAddressLink","textDecoration","marginLeft","marginBottom","startsWith","alt","height","maxHeight","objectFit","gap","overflowX","paddingBottom","map","img","index","onClick","flexShrink","transition","opacity","marginTop","lineHeight","whiteSpace","textTransform","letterSpacing","position","top","left","backdropFilter","zIndex","onSubmit","flexDirection","required","placeholder","value","onChange","target","disabled","animation","type","flex","_c","$RefreshReg$"],"sources":["C:/Users/AYUSH/OneDrive/Desktop/gwoc/client/src/pages/ProductDetails.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\n\r\nconst palette = {\r\n    deep: '#442D1C',\r\n    ember: '#652810',\r\n    copper: '#8E5022',\r\n    flame: '#C85428',\r\n    sand: '#EDD8B4',\r\n    lightSand: '#F9F3E9',\r\n    white: '#FFFFFF'\r\n};\r\n\r\nconst ProductDetails = () => {\r\n    const { id } = useParams();\r\n    const navigate = useNavigate();\r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n\r\n    const [product, setProduct] = useState(null);\r\n    const [mainImage, setMainImage] = useState('');\r\n    const [showModal, setShowModal] = useState(false);\r\n\r\n    // --- LOADING STATES ---\r\n    const [pageLoading, setPageLoading] = useState(true); // Initial fetch\r\n    const [actionLoading, setActionLoading] = useState(false); // Button actions (OTP/Pay)\r\n\r\n    const [addressForm, setAddressForm] = useState({\r\n        address: '',\r\n        city: '',\r\n        zip: '',\r\n        phone: ''\r\n    });\r\n\r\n    const [otp, setOtp] = useState('');\r\n    const [otpSent, setOtpSent] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                // 1. Fetch Product\r\n                const productRes = await axios.get(`https://gwoc-basho-1.onrender.com/api/products/${id}`);\r\n                setProduct(productRes.data);\r\n                if (productRes.data.images && productRes.data.images.length > 0) {\r\n                    setMainImage(productRes.data.images[0]);\r\n                }\r\n\r\n                // 2. Fetch User Address (if logged in)\r\n                if (user && (user.id || user._id)) {\r\n                    const userId = user.id || user._id;\r\n                    const userRes = await axios.get(`https://gwoc-basho-1.onrender.com/api/auth/profile/${userId}`);\r\n                    setAddressForm({\r\n                        address: userRes.data.address || '',\r\n                        city: userRes.data.city || '',\r\n                        zip: userRes.data.zip || '',\r\n                        phone: userRes.data.phone || ''\r\n                    });\r\n                }\r\n            } catch (err) {\r\n                console.error(err);\r\n            } finally {\r\n                // Stop loading animation\r\n                setTimeout(() => setPageLoading(false), 500);\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    }, [id]);\r\n\r\n    const initiateBuy = () => {\r\n        if (!user) {\r\n            alert(\"Please login to buy\");\r\n            navigate('/login');\r\n            return;\r\n        }\r\n        setShowModal(true);\r\n    };\r\n\r\n    const requestOtp = async (e) => {\r\n        e.preventDefault();\r\n        setActionLoading(true); // Start button spinner\r\n        try {\r\n            await axios.post('https://gwoc-basho-1.onrender.com/api/auth/req-otp', { email: user.email });\r\n            setOtpSent(true);\r\n            alert(\"OTP sent to email for confirmation!\");\r\n        } catch (err) {\r\n            alert(\"Failed to send OTP\");\r\n        } finally {\r\n            setActionLoading(false); // Stop button spinner\r\n        }\r\n    };\r\n\r\n    const loadRazorpay = () => {\r\n        return new Promise((resolve) => {\r\n            const script = document.createElement('script');\r\n            script.src = 'https://checkout.razorpay.com/v1/checkout.js';\r\n            script.onload = () => resolve(true);\r\n            script.onerror = () => resolve(false);\r\n            document.body.appendChild(script);\r\n        });\r\n    };\r\n\r\n    const confirmOrder = async (e) => {\r\n        e.preventDefault();\r\n        if (!product) return;\r\n        if (!otp) return alert(\"Please enter OTP\");\r\n\r\n        setActionLoading(true); // Start button spinner\r\n\r\n        try {\r\n            // 1. Load Script\r\n            const res = await loadRazorpay();\r\n            if (!res) {\r\n                alert('Razorpay SDK failed to load. Are you online?');\r\n                setActionLoading(false);\r\n                return;\r\n            }\r\n\r\n            // 2. Create Order on Server\r\n            const orderPayload = { productId: product._id, amount: product.price };\r\n            const result = await axios.post('https://gwoc-basho-1.onrender.com/api/payment/create-order', orderPayload);\r\n            const { amount, id: order_id, currency } = result.data;\r\n\r\n            // 3. Configure Razorpay Options\r\n            const options = {\r\n                key: \"rzp_test_RxSehrjb5BD4XK\", // ðŸ”´ REPLACE WITH YOUR KEY ID\r\n                amount: amount.toString(),\r\n                currency: currency,\r\n                name: \"Basho Pottery\",\r\n                description: `Order for ${product.name}`,\r\n                image: \"https://your-logo-url.com/logo.png\",\r\n                order_id: order_id,\r\n\r\n                handler: async function (response) {\r\n                    const paymentData = {\r\n                        razorpay_order_id: response.razorpay_order_id,\r\n                        razorpay_payment_id: response.razorpay_payment_id,\r\n                        razorpay_signature: response.razorpay_signature,\r\n                        customerName: user.name,\r\n                        email: user.email,\r\n                        otp: otp,\r\n                        amount: product.price,\r\n                        orderType: 'STANDARD',\r\n                        productId: product._id,\r\n                        productName: product.name,\r\n                        productImage: product.images[0],\r\n                        address: addressForm.address,\r\n                        city: addressForm.city,\r\n                        zip: addressForm.zip,\r\n                        phone: addressForm.phone\r\n                    };\r\n\r\n                    try {\r\n                        const verifyRes = await axios.post('https://gwoc-basho-1.onrender.com/api/buy', paymentData);\r\n                        if (verifyRes.data.success) {\r\n                            alert(\"Payment Successful! Order Placed.\");\r\n                            setShowModal(false);\r\n                            navigate('/my-orders');\r\n                        }\r\n                    } catch (err) {\r\n                        alert(\"Payment Verified Failed: \" + (err.response?.data?.message || \"Error\"));\r\n                    }\r\n                },\r\n                modal: {\r\n                    ondismiss: function () {\r\n                        setActionLoading(false); // Stop loading\r\n                        console.log('Payment cancelled by user');\r\n                    }\r\n                },\r\n                prefill: {\r\n                    name: user.name,\r\n                    email: user.email,\r\n                    contact: addressForm.phone,\r\n                },\r\n                theme: {\r\n                    color: \"#C85428\",\r\n                },\r\n                // Stop loading if user closes modal\r\n                modal: {\r\n                    ondismiss: function () {\r\n                        setActionLoading(false);\r\n                    }\r\n                }\r\n            };\r\n\r\n            const paymentObject = new window.Razorpay(options);\r\n            paymentObject.open();\r\n\r\n            // Note: We don't setActionLoading(false) here immediately, \r\n            // we wait for the modal ondismiss or handler.\r\n\r\n        } catch (err) {\r\n            console.error(err);\r\n            alert(\"Could not initiate payment.\");\r\n            setActionLoading(false);\r\n        }\r\n    };\r\n    const CLOUD_NAME = \"dnbplr9pw\";\r\n    // --- PAGE SPINNER ---\r\n    if (pageLoading) return (\r\n        <div style={{ minHeight: '100vh', display: 'flex', justifyContent: 'center', alignItems: 'center', background: palette.lightSand }}>\r\n            <style>{`\r\n                @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }\r\n                .spinner-large { width: 50px; height: 50px; border: 4px solid rgba(200, 84, 40, 0.2); border-top-color: ${palette.flame}; border-radius: 50%; animation: spin 1s linear infinite; }\r\n            `}</style>\r\n            <div className=\"spinner-large\"></div>\r\n        </div>\r\n    );\r\n\r\n    if (!product) return <div style={{ padding: '40px', textAlign: 'center' }}>Product not found.</div>;\r\n\r\n    const styles = {\r\n        page: { padding: '40px 20px', maxWidth: '1200px', margin: '0 auto', background: `linear-gradient(180deg, ${palette.lightSand}, rgba(237,216,180,0.2))`, minHeight: '100vh', fontFamily: 'Arial, sans-serif' },\r\n        input: { padding: '12px', borderRadius: '10px', border: `1px solid ${palette.copper}40`, backgroundColor: 'rgba(255,255,255,0.9)', width: '100%', boxSizing: 'border-box', fontSize: '1rem' },\r\n        btnPrimary: { background: `linear-gradient(135deg, ${palette.flame}, ${palette.copper})`, color: 'white', border: 'none', padding: '15px 40px', fontSize: '1.2rem', borderRadius: '999px', cursor: 'pointer', fontWeight: 'bold', boxShadow: '0 12px 22px rgba(200,84,40,0.24)' },\r\n        changeAddressLink: { color: palette.flame, textDecoration: 'underline', cursor: 'pointer', fontSize: '0.9rem', marginLeft: 'auto', display: 'block', width: 'fit-content', marginBottom: '5px' }\r\n    };\r\n\r\n    return (\r\n        <div className=\"product-details\" style={styles.page}>\r\n            <style>{`\r\n                @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Poppins:wght@300;400;600&display=swap');\r\n\r\n                .product-details { font-family: 'Poppins', sans-serif; }\r\n                \r\n                .details-layout { display: flex; gap: 40px; flex-direction: column; opacity: 0; animation: fadeIn 0.8s ease forwards; }\r\n                @media (min-width: 900px) { .details-layout { flex-direction: row; } }\r\n                \r\n                .details-gallery { flex: 1; min-width: 0; }\r\n                .details-info { flex: 1; display: flex; flex-direction: column; justify-content: center; }\r\n                \r\n                .modal-content { width: 90%; max-width: 450px; background: ${palette.white}; padding: 30px; borderRadius: 20px; box-shadow: 0 20px 60px rgba(68,45,28,0.2); border: 1px solid ${palette.copper}20; animation: scaleIn 0.3s ease; }\r\n                \r\n                input:focus { outline: none; border-color: ${palette.flame} !important; box-shadow: 0 0 0 3px rgba(200,84,40,0.1); background: white !important; }\r\n                \r\n                /* ANIMATIONS */\r\n                @keyframes scaleIn { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }\r\n                @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }\r\n                @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }\r\n                \r\n                .spinner-small {\r\n                    width: 20px; height: 20px; \r\n                    border: 2px solid rgba(255,255,255,0.3); \r\n                    border-top-color: white; \r\n                    border-radius: 50%; \r\n                    animation: spin 0.8s linear infinite;\r\n                    display: inline-block;\r\n                }\r\n            `}</style>\r\n\r\n            <div className=\"details-layout\">\r\n                {/* LEFT: GALLERY */}\r\n                <div className=\"details-gallery\">\r\n    {/* MAIN IMAGE */}\r\n    <div style={{ border: `1px solid ${palette.copper}20`, padding: '20px', marginBottom: '15px', borderRadius: '20px', background: 'white', boxShadow: '0 10px 30px rgba(0,0,0,0.05)' }}>\r\n        <img\r\n            src={\r\n                mainImage \r\n                ? (mainImage.startsWith('http') ? mainImage : `https://res.cloudinary.com/${CLOUD_NAME}/image/upload/${mainImage}`)\r\n                : (product.image \r\n                    ? (product.image.startsWith('http') ? product.image : `https://res.cloudinary.com/${CLOUD_NAME}/image/upload/${product.image}`) \r\n                    : 'https://via.placeholder.com/300')\r\n            }\r\n            alt=\"Main\"\r\n            style={{ width: '100%', height: 'auto', maxHeight: '500px', objectFit: 'contain', display: 'block', borderRadius: '10px' }}\r\n        />\r\n    </div>\r\n\r\n    {/* THUMBNAILS */}\r\n    <div className=\"thumbs\" style={{ display: 'flex', gap: '10px', overflowX: 'auto', paddingBottom: '5px' }}>\r\n        {product.images && product.images.map((img, index) => (\r\n            <img\r\n                key={index}\r\n                src={img.startsWith('http') ? img : `https://res.cloudinary.com/${CLOUD_NAME}/image/upload/${img}`}\r\n                alt=\"thumb\"\r\n                onClick={() => setMainImage(img)}\r\n                style={{\r\n                    width: '80px', height: '80px', objectFit: 'cover',\r\n                    border: mainImage === img ? `2px solid ${palette.flame}` : `2px solid transparent`,\r\n                    cursor: 'pointer', borderRadius: '12px', flexShrink: 0,\r\n                    transition: 'all 0.2s',\r\n                    opacity: mainImage === img ? 1 : 0.7\r\n                }}\r\n            />\r\n        ))}\r\n    </div>\r\n</div>\r\n\r\n                {/* RIGHT: INFO */}\r\n                <div className=\"details-info\">\r\n                    <h1 style={{ fontFamily: 'Playfair Display, serif', fontSize: '3rem', marginTop: 0, marginBottom: '10px', color: palette.deep, lineHeight: 1.1 }}>\r\n                        {product.name}\r\n                    </h1>\r\n\r\n                    <div style={{ width: '60px', height: '4px', background: palette.flame, marginBottom: '20px', borderRadius: '2px' }}></div>\r\n\r\n                    <p style={{ fontSize: '1.1rem', color: '#555', lineHeight: '1.8', whiteSpace: 'pre-line', marginBottom: '30px' }}>\r\n                        {product.description}\r\n                    </p>\r\n\r\n                    <div style={{ background: 'white', padding: '20px', borderRadius: '16px', display: 'flex', alignItems: 'center', justifyContent: 'space-between', boxShadow: '0 5px 15px rgba(0,0,0,0.05)' }}>\r\n                        <div>\r\n                            <span style={{ display: 'block', fontSize: '0.9rem', color: '#888', textTransform: 'uppercase', letterSpacing: '1px' }}>Price</span>\r\n                            <h2 style={{ color: palette.deep, fontSize: '2rem', margin: 0, fontWeight: '700' }}>â‚¹{product.price}</h2>\r\n                        </div>\r\n                        <button onClick={initiateBuy} style={styles.btnPrimary}>\r\n                            Buy Now\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* --- SHIPPING MODAL --- */}\r\n            {showModal && (\r\n                <div style={{ position: 'fixed', top: 0, left: 0, width: '100%', height: '100%', background: 'rgba(68,45,28,0.6)', backdropFilter: 'blur(5px)', display: 'flex', justifyContent: 'center', alignItems: 'center', zIndex: 1000 }}>\r\n                    <div className=\"modal-content\">\r\n                        <h3 style={{ fontFamily: 'Playfair Display, serif', marginTop: 0, textAlign: 'center', color: palette.deep, fontSize: '1.8rem' }}>\r\n                            Shipping Details\r\n                        </h3>\r\n\r\n                        <div style={{ textAlign: 'right', marginBottom: '15px' }}>\r\n                            <button onClick={() => navigate('/profile')} style={{ background: 'none', border: 'none', ...styles.changeAddressLink }}>\r\n                                Update Saved Address âžœ\r\n                            </button>\r\n                        </div>\r\n\r\n                        <form onSubmit={otpSent ? confirmOrder : requestOtp} style={{ display: 'flex', flexDirection: 'column', gap: '15px' }}>\r\n                            <input required placeholder=\"Street Address\" value={addressForm.address} onChange={e => setAddressForm({ ...addressForm, address: e.target.value })} style={styles.input} disabled={otpSent || actionLoading} />\r\n\r\n                            <div style={{ display: 'flex', gap: '10px' }}>\r\n                                <input required placeholder=\"City\" value={addressForm.city} onChange={e => setAddressForm({ ...addressForm, city: e.target.value })} style={styles.input} disabled={otpSent || actionLoading} />\r\n                                <input required placeholder=\"Zip Code\" value={addressForm.zip} onChange={e => setAddressForm({ ...addressForm, zip: e.target.value })} style={styles.input} disabled={otpSent || actionLoading} />\r\n                            </div>\r\n\r\n                            <input required placeholder=\"Phone Number\" value={addressForm.phone} onChange={e => setAddressForm({ ...addressForm, phone: e.target.value })} style={styles.input} disabled={otpSent || actionLoading} />\r\n\r\n                            {otpSent && (\r\n                                <div style={{ background: '#FFF5F0', padding: '15px', border: `1px dashed ${palette.flame}`, borderRadius: '10px', textAlign: 'center', animation: 'fadeIn 0.5s' }}>\r\n                                    <p style={{ margin: '0 0 10px 0', fontSize: '0.9rem', color: palette.ember }}>\r\n                                        Enter OTP sent to <strong>{user.email}</strong>\r\n                                    </p>\r\n                                    <input\r\n                                        placeholder=\"â€¢ â€¢ â€¢ â€¢ â€¢ â€¢\"\r\n                                        value={otp}\r\n                                        onChange={e => setOtp(e.target.value)}\r\n                                        required\r\n                                        style={{ ...styles.input, textAlign: 'center', fontWeight: 'bold', letterSpacing: '4px', fontSize: '1.2rem', width: '80%', margin: '0 auto', display: 'block' }}\r\n                                        disabled={actionLoading}\r\n                                    />\r\n                                </div>\r\n                            )}\r\n\r\n                            <div style={{ display: 'flex', gap: '10px', marginTop: '10px' }}>\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={() => setShowModal(false)}\r\n                                    disabled={actionLoading}\r\n                                    style={{ flex: 1, background: 'transparent', color: '#888', padding: '12px', border: '1px solid #ddd', borderRadius: '10px', cursor: 'pointer', fontWeight: '600' }}\r\n                                >\r\n                                    Cancel\r\n                                </button>\r\n\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    disabled={actionLoading}\r\n                                    style={{\r\n                                        flex: 1,\r\n                                        background: otpSent ? palette.flame : palette.deep,\r\n                                        color: 'white', padding: '12px', border: 'none', borderRadius: '10px',\r\n                                        cursor: actionLoading ? 'not-allowed' : 'pointer',\r\n                                        fontWeight: 'bold', fontSize: '1rem',\r\n                                        boxShadow: '0 4px 10px rgba(0,0,0,0.2)',\r\n                                        display: 'flex', justifyContent: 'center', alignItems: 'center'\r\n                                    }}\r\n                                >\r\n                                    {actionLoading ? (\r\n                                        <div className=\"spinner-small\"></div>\r\n                                    ) : (\r\n                                        otpSent ? \"Confirm Payment\" : \"Verify Address\"\r\n                                    )}\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProductDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AYUSH\\\\OneDrive\\\\Desktop\\\\gwoc\\\\client\\\\src\\\\pages\\\\CustomOrders.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst palette = {\n  deep: '#442D1C',\n  ember: '#652810',\n  copper: '#8E5022',\n  flame: '#C85428',\n  sand: '#EDD8B4',\n  lightSand: '#F9F3E9',\n  white: '#FFFFFF',\n  overlay: 'rgba(255, 255, 255, 0.9)',\n  shadow: 'rgba(68, 45, 28, 0.15)'\n};\nconst CustomOrders = () => {\n  _s();\n  const navigate = useNavigate();\n  const user = JSON.parse(localStorage.getItem('user'));\n  const [formData, setFormData] = useState({\n    description: '',\n    material: '',\n    address: '',\n    city: '',\n    zip: '',\n    phone: ''\n  });\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [otp, setOtp] = useState('');\n  const [otpSent, setOtpSent] = useState(false);\n\n  // --- LOADING STATES ---\n  const [isLoadingAddress, setIsLoadingAddress] = useState(true);\n  const [isSendingOtp, setIsSendingOtp] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  useEffect(() => {\n    if (!user) {\n      navigate('/login');\n      return;\n    }\n    const fetchUserData = async () => {\n      setIsLoadingAddress(true);\n      if (user && (user.id || user._id)) {\n        try {\n          const userId = user.id || user._id;\n          const res = await axios.get(`https://gwoc-basho-1.onrender.com/api/auth/profile/${userId}`);\n          setFormData(prev => ({\n            ...prev,\n            address: res.data.address || '',\n            city: res.data.city || '',\n            zip: res.data.zip || '',\n            phone: res.data.phone || ''\n          }));\n        } catch (err) {\n          console.error(\"Could not auto-fill address\", err);\n        } finally {\n          setIsLoadingAddress(false);\n        }\n      } else {\n        setIsLoadingAddress(false);\n      }\n    };\n    fetchUserData();\n  }, [navigate]);\n  const handleChange = e => setFormData({\n    ...formData,\n    [e.target.name]: e.target.value\n  });\n\n  // Fix: Convert FileList to Array for easier handling\n  const handleFileChange = e => {\n    setSelectedFiles(Array.from(e.target.files));\n  };\n  const handleRequestOtp = async e => {\n    e.preventDefault();\n\n    // Basic Validation\n    if (!formData.description || !formData.material) {\n      alert(\"Please fill in the Design Description and Material.\");\n      return;\n    }\n    setIsSendingOtp(true);\n    try {\n      await axios.post('https://gwoc-basho-1.onrender.com/api/auth/req-otp', {\n        email: user.email\n      });\n      setOtpSent(true);\n      alert(`OTP sent to ${user.email}`);\n    } catch (err) {\n      alert(\"Failed to send OTP. Check console.\");\n      console.error(err);\n    } finally {\n      setIsSendingOtp(false);\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setIsSubmitting(true);\n    try {\n      const data = new FormData();\n\n      // 1. User & Order Info\n      data.append('userId', user.id || user._id); // Ensure ID is sent\n      data.append('email', user.email);\n      data.append('otp', otp);\n      data.append('customerName', user.name);\n      data.append('orderType', 'CUSTOM');\n      data.append('amount', 0);\n\n      // 2. Custom Specifics (Crucial Fix)\n      // We pass these as a JSON string or individual fields depending on backend\n      // For now, let's append them individually so Multer/BodyParser picks them up\n      data.append('description', formData.description);\n      data.append('material', formData.material);\n\n      // 3. Shipping Info\n      data.append('address', formData.address);\n      data.append('city', formData.city);\n      data.append('zip', formData.zip);\n      data.append('phone', formData.phone);\n\n      // 4. Images (Crucial Fix: Use 'customImages' key)\n      selectedFiles.forEach(file => {\n        data.append('customImages', file);\n      });\n\n      // Debug: Log what we are sending\n      for (let [key, value] of data.entries()) {\n        console.log(`${key}:`, value);\n      }\n      const res = await axios.post('https://gwoc-basho-1.onrender.com/api/buy', data, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      if (res.data.success) {\n        alert(\"Custom Request Sent Successfully!\");\n        navigate('/orders');\n      }\n    } catch (err) {\n      var _err$response, _err$response2, _err$response2$data;\n      console.error(\"Submit Error:\", ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || err);\n      alert(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || \"Submission Failed\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n                @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap');\n\n                .page-wrapper {\n                    min-height: 100vh;\n                    background: radial-gradient(circle at top left, ${palette.lightSand}, #F2E6D8);\n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                    padding: 40px 20px;\n                    font-family: 'Poppins', sans-serif;\n                }\n\n                /* --- CARD & LAYOUT --- */\n                .custom-card {\n                    width: 100%;\n                    max-width: 650px;\n                    background: ${palette.white};\n                    border-radius: 20px;\n                    padding: 40px;\n                    box-shadow: 0 20px 60px ${palette.shadow}, 0 0 0 1px rgba(142, 80, 34, 0.05);\n                    position: relative;\n                    overflow: hidden;\n                    animation: slideUp 0.6s ease-out;\n                }\n\n                .custom-card::top-border {\n                    content: '';\n                    position: absolute;\n                    top: 0; left: 0; right: 0; height: 5px;\n                    background: linear-gradient(90deg, ${palette.copper}, ${palette.flame});\n                }\n\n                .header-title {\n                    text-align: center;\n                    color: ${palette.deep};\n                    font-size: 1.8rem;\n                    font-weight: 600;\n                    margin-bottom: 5px;\n                }\n                \n                .header-subtitle {\n                    text-align: center;\n                    color: ${palette.ember};\n                    font-size: 0.9rem;\n                    margin-bottom: 30px;\n                    opacity: 0.8;\n                }\n\n                /* --- FORMS --- */\n                .section-label {\n                    font-size: 0.85rem;\n                    text-transform: uppercase;\n                    letter-spacing: 1.5px;\n                    color: ${palette.copper};\n                    font-weight: 600;\n                    margin-bottom: 15px;\n                    display: block;\n                    border-bottom: 1px solid ${palette.lightSand};\n                    padding-bottom: 5px;\n                }\n\n                .input-group {\n                    margin-bottom: 20px;\n                    position: relative;\n                }\n\n                .modern-input {\n                    width: 100%;\n                    padding: 14px 16px;\n                    border: 1px solid #E0E0E0;\n                    background: #FAFAFA;\n                    border-radius: 12px;\n                    font-size: 0.95rem;\n                    color: ${palette.deep};\n                    transition: all 0.3s ease;\n                    box-sizing: border-box;\n                    font-family: inherit;\n                }\n\n                .modern-input:focus {\n                    outline: none;\n                    border-color: ${palette.copper};\n                    background: #FFF;\n                    box-shadow: 0 4px 12px rgba(142, 80, 34, 0.1);\n                }\n\n                .modern-textarea {\n                    min-height: 100px;\n                    resize: vertical;\n                }\n\n                /* --- FILE UPLOAD --- */\n                .file-drop-zone {\n                    border: 2px dashed ${palette.sand};\n                    border-radius: 12px;\n                    background: ${palette.lightSand};\n                    padding: 25px;\n                    text-align: center;\n                    cursor: pointer;\n                    transition: all 0.3s;\n                    position: relative;\n                }\n\n                .file-drop-zone:hover {\n                    border-color: ${palette.flame};\n                    background: #FFF8F2;\n                }\n\n                .file-input-hidden {\n                    position: absolute;\n                    top: 0; left: 0; width: 100%; height: 100%;\n                    opacity: 0;\n                    cursor: pointer;\n                }\n\n                .file-label-text {\n                    color: ${palette.ember};\n                    font-weight: 500;\n                }\n\n                .file-subtext {\n                    font-size: 0.8rem;\n                    color: #999;\n                    margin-top: 5px;\n                }\n\n                /* --- BUTTONS --- */\n                .action-btn {\n                    width: 100%;\n                    padding: 16px;\n                    background: linear-gradient(135deg, ${palette.ember}, ${palette.deep});\n                    color: white;\n                    border: none;\n                    border-radius: 12px;\n                    font-size: 1rem;\n                    font-weight: 600;\n                    cursor: pointer;\n                    transition: all 0.3s;\n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                    gap: 10px;\n                    margin-top: 10px;\n                }\n                \n                .action-btn.verify {\n                    background: linear-gradient(135deg, ${palette.flame}, ${palette.copper});\n                }\n\n                .action-btn:hover {\n                    transform: translateY(-2px);\n                    box-shadow: 0 10px 20px rgba(68, 45, 28, 0.2);\n                }\n\n                .action-btn:disabled {\n                    background: #CCC;\n                    cursor: not-allowed;\n                    transform: none;\n                    box-shadow: none;\n                }\n\n                .text-btn {\n                    background: none;\n                    border: none;\n                    color: ${palette.flame};\n                    font-size: 0.85rem;\n                    font-weight: 600;\n                    cursor: pointer;\n                    text-decoration: underline;\n                    float: right;\n                }\n\n                /* --- ANIMATIONS --- */\n                @keyframes slideUp {\n                    from { opacity: 0; transform: translateY(30px); }\n                    to { opacity: 1; transform: translateY(0); }\n                }\n\n                @keyframes spin {\n                    0% { transform: rotate(0deg); }\n                    100% { transform: rotate(360deg); }\n                }\n\n                .spinner {\n                    width: 20px;\n                    height: 20px;\n                    border: 3px solid rgba(255,255,255,0.3);\n                    border-radius: 50%;\n                    border-top-color: white;\n                    animation: spin 1s linear infinite;\n                }\n\n                .row-group {\n                    display: grid;\n                    grid-template-columns: 1fr 1fr;\n                    gap: 15px;\n                }\n\n                /* OTP Section Animation */\n                .otp-section {\n                    background: #FFF5F0;\n                    border: 1px solid ${palette.sand};\n                    padding: 20px;\n                    border-radius: 12px;\n                    margin-bottom: 20px;\n                    animation: slideUp 0.4s ease;\n                    text-align: center;\n                }\n\n                .otp-input {\n                    text-align: center;\n                    letter-spacing: 5px;\n                    font-weight: bold;\n                    font-size: 1.2rem;\n                }\n\n                /* Skeleton Loader for inputs */\n                .skeleton {\n                    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\n                    background-size: 200% 100%;\n                    animation: shimmer 1.5s infinite;\n                    color: transparent !important;\n                }\n\n                @keyframes shimmer {\n                    0% { background-position: 200% 0; }\n                    100% { background-position: -200% 0; }\n                }\n\n                @media (max-width: 600px) {\n                    .row-group { grid-template-columns: 1fr; }\n                    .custom-card { padding: 25px; }\n                }\n            `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"custom-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"header-title\",\n        children: \"Create Custom Order\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"header-subtitle\",\n        children: \"Bring your unique ideas to life\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: otpSent ? handleSubmit : handleRequestOtp,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"section-label\",\n            children: \"1. Design & Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"description\",\n            className: \"modern-input modern-textarea\",\n            placeholder: \"Describe your vision (shape, size, function)...\",\n            value: formData.description,\n            onChange: handleChange,\n            required: true,\n            disabled: otpSent\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"material\",\n            className: \"modern-input\",\n            placeholder: \"Preferred Material (e.g., Clay, Ceramic)\",\n            value: formData.material,\n            onChange: handleChange,\n            required: true,\n            disabled: otpSent\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file-drop-zone\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              className: \"file-input-hidden\",\n              multiple: true,\n              accept: \".jpg,.png,.jpeg\",\n              onChange: handleFileChange,\n              disabled: otpSent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"file-label-text\",\n              children: selectedFiles.length > 0 ? `${selectedFiles.length} files selected` : \"Click to Upload Reference Images\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"file-subtext\",\n              children: \"Max 5 images (JPG, PNG)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n              marginBottom: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"section-label\",\n              style: {\n                marginBottom: 0,\n                border: 'none'\n              },\n              children: \"2. Shipping Info\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => navigate('/profile'),\n              className: \"text-btn\",\n              children: \"Update Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"address\",\n            className: `modern-input ${isLoadingAddress ? 'skeleton' : ''}`,\n            placeholder: \"Street Address\",\n            value: formData.address,\n            onChange: handleChange,\n            required: true,\n            disabled: otpSent || isLoadingAddress\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group row-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"city\",\n            className: `modern-input ${isLoadingAddress ? 'skeleton' : ''}`,\n            placeholder: \"City\",\n            value: formData.city,\n            onChange: handleChange,\n            required: true,\n            disabled: otpSent || isLoadingAddress\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"zip\",\n            className: `modern-input ${isLoadingAddress ? 'skeleton' : ''}`,\n            placeholder: \"Zip Code\",\n            value: formData.zip,\n            onChange: handleChange,\n            required: true,\n            disabled: otpSent || isLoadingAddress\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"phone\",\n            className: `modern-input ${isLoadingAddress ? 'skeleton' : ''}`,\n            placeholder: \"Phone Number\",\n            value: formData.phone,\n            onChange: handleChange,\n            required: true,\n            disabled: otpSent || isLoadingAddress\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 21\n        }, this), otpSent && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"otp-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: '0 0 10px 0',\n              color: palette.ember,\n              fontSize: '0.9rem'\n            },\n            children: [\"We sent a code to \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: user.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 51\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"modern-input otp-input\",\n            placeholder: \"1 2 3 4\",\n            value: otp,\n            onChange: e => setOtp(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 502,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: `action-btn ${otpSent ? 'verify' : ''}`,\n          disabled: isSendingOtp || isSubmitting,\n          children: isSendingOtp || isSubmitting ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spinner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 519,\n            columnNumber: 29\n          }, this) : otpSent ? \"Confirm Custom Order\" : \"Verify & Continue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 9\n  }, this);\n};\n_s(CustomOrders, \"PKLVWQRTAxwIsMclo6XZmds68P4=\", false, function () {\n  return [useNavigate];\n});\n_c = CustomOrders;\nexport default CustomOrders;\nvar _c;\n$RefreshReg$(_c, \"CustomOrders\");","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","jsxDEV","_jsxDEV","palette","deep","ember","copper","flame","sand","lightSand","white","overlay","shadow","CustomOrders","_s","navigate","user","JSON","parse","localStorage","getItem","formData","setFormData","description","material","address","city","zip","phone","selectedFiles","setSelectedFiles","otp","setOtp","otpSent","setOtpSent","isLoadingAddress","setIsLoadingAddress","isSendingOtp","setIsSendingOtp","isSubmitting","setIsSubmitting","fetchUserData","id","_id","userId","res","get","prev","data","err","console","error","handleChange","e","target","name","value","handleFileChange","Array","from","files","handleRequestOtp","preventDefault","alert","post","email","handleSubmit","FormData","append","forEach","file","key","entries","log","headers","success","_err$response","_err$response2","_err$response2$data","response","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","placeholder","onChange","required","disabled","type","multiple","accept","length","style","display","justifyContent","alignItems","marginBottom","border","onClick","margin","color","fontSize","_c","$RefreshReg$"],"sources":["C:/Users/AYUSH/OneDrive/Desktop/gwoc/client/src/pages/CustomOrders.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst palette = {\r\n    deep: '#442D1C',\r\n    ember: '#652810',\r\n    copper: '#8E5022',\r\n    flame: '#C85428',\r\n    sand: '#EDD8B4',\r\n    lightSand: '#F9F3E9',\r\n    white: '#FFFFFF',\r\n    overlay: 'rgba(255, 255, 255, 0.9)',\r\n    shadow: 'rgba(68, 45, 28, 0.15)'\r\n};\r\n\r\nconst CustomOrders = () => {\r\n    const navigate = useNavigate();\r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n\r\n    const [formData, setFormData] = useState({\r\n        description: '', \r\n        material: '',\r\n        address: '', \r\n        city: '', \r\n        zip: '', \r\n        phone: ''\r\n    });\r\n\r\n    const [selectedFiles, setSelectedFiles] = useState([]);\r\n    const [otp, setOtp] = useState('');\r\n    const [otpSent, setOtpSent] = useState(false);\r\n\r\n    // --- LOADING STATES ---\r\n    const [isLoadingAddress, setIsLoadingAddress] = useState(true);\r\n    const [isSendingOtp, setIsSendingOtp] = useState(false);\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!user) {\r\n            navigate('/login');\r\n            return;\r\n        }\r\n\r\n        const fetchUserData = async () => {\r\n            setIsLoadingAddress(true); \r\n            if (user && (user.id || user._id)) {\r\n                try {\r\n                    const userId = user.id || user._id;\r\n                    const res = await axios.get(`https://gwoc-basho-1.onrender.com/api/auth/profile/${userId}`);\r\n                    \r\n                    setFormData(prev => ({\r\n                        ...prev,\r\n                        address: res.data.address || '',\r\n                        city: res.data.city || '',\r\n                        zip: res.data.zip || '',\r\n                        phone: res.data.phone || ''\r\n                    }));\r\n                } catch (err) {\r\n                    console.error(\"Could not auto-fill address\", err);\r\n                } finally {\r\n                    setIsLoadingAddress(false); \r\n                }\r\n            } else {\r\n                setIsLoadingAddress(false);\r\n            }\r\n        };\r\n\r\n        fetchUserData();\r\n    }, [navigate]);\r\n\r\n    const handleChange = (e) => setFormData({ ...formData, [e.target.name]: e.target.value });\r\n    \r\n    // Fix: Convert FileList to Array for easier handling\r\n    const handleFileChange = (e) => {\r\n        setSelectedFiles(Array.from(e.target.files));\r\n    };\r\n\r\n    const handleRequestOtp = async (e) => {\r\n        e.preventDefault();\r\n        \r\n        // Basic Validation\r\n        if(!formData.description || !formData.material) {\r\n            alert(\"Please fill in the Design Description and Material.\");\r\n            return;\r\n        }\r\n\r\n        setIsSendingOtp(true); \r\n        try {\r\n            await axios.post('https://gwoc-basho-1.onrender.com/api/auth/req-otp', { email: user.email });\r\n            setOtpSent(true);\r\n            alert(`OTP sent to ${user.email}`);\r\n        } catch (err) { \r\n            alert(\"Failed to send OTP. Check console.\"); \r\n            console.error(err);\r\n        } finally {\r\n            setIsSendingOtp(false); \r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setIsSubmitting(true); \r\n        \r\n        try {\r\n            const data = new FormData();\r\n            \r\n            // 1. User & Order Info\r\n            data.append('userId', user.id || user._id); // Ensure ID is sent\r\n            data.append('email', user.email);\r\n            data.append('otp', otp);\r\n            data.append('customerName', user.name);\r\n            data.append('orderType', 'CUSTOM');\r\n            data.append('amount', 0); \r\n            \r\n            // 2. Custom Specifics (Crucial Fix)\r\n            // We pass these as a JSON string or individual fields depending on backend\r\n            // For now, let's append them individually so Multer/BodyParser picks them up\r\n            data.append('description', formData.description); \r\n            data.append('material', formData.material);\r\n            \r\n            // 3. Shipping Info\r\n            data.append('address', formData.address);\r\n            data.append('city', formData.city);\r\n            data.append('zip', formData.zip);\r\n            data.append('phone', formData.phone);\r\n\r\n            // 4. Images (Crucial Fix: Use 'customImages' key)\r\n            selectedFiles.forEach((file) => {\r\n                data.append('customImages', file); \r\n            });\r\n\r\n            // Debug: Log what we are sending\r\n            for (let [key, value] of data.entries()) {\r\n                console.log(`${key}:`, value);\r\n            }\r\n\r\n            const res = await axios.post('https://gwoc-basho-1.onrender.com/api/buy', data, {\r\n                headers: { 'Content-Type': 'multipart/form-data' }\r\n            });\r\n\r\n            if (res.data.success) {\r\n                alert(\"Custom Request Sent Successfully!\");\r\n                navigate('/orders');\r\n            }\r\n        } catch (err) {\r\n            console.error(\"Submit Error:\", err.response?.data || err);\r\n            alert(err.response?.data?.message || \"Submission Failed\");\r\n        } finally {\r\n            setIsSubmitting(false); \r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"page-wrapper\">\r\n            <style>{`\r\n                @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap');\r\n\r\n                .page-wrapper {\r\n                    min-height: 100vh;\r\n                    background: radial-gradient(circle at top left, ${palette.lightSand}, #F2E6D8);\r\n                    display: flex;\r\n                    justify-content: center;\r\n                    align-items: center;\r\n                    padding: 40px 20px;\r\n                    font-family: 'Poppins', sans-serif;\r\n                }\r\n\r\n                /* --- CARD & LAYOUT --- */\r\n                .custom-card {\r\n                    width: 100%;\r\n                    max-width: 650px;\r\n                    background: ${palette.white};\r\n                    border-radius: 20px;\r\n                    padding: 40px;\r\n                    box-shadow: 0 20px 60px ${palette.shadow}, 0 0 0 1px rgba(142, 80, 34, 0.05);\r\n                    position: relative;\r\n                    overflow: hidden;\r\n                    animation: slideUp 0.6s ease-out;\r\n                }\r\n\r\n                .custom-card::top-border {\r\n                    content: '';\r\n                    position: absolute;\r\n                    top: 0; left: 0; right: 0; height: 5px;\r\n                    background: linear-gradient(90deg, ${palette.copper}, ${palette.flame});\r\n                }\r\n\r\n                .header-title {\r\n                    text-align: center;\r\n                    color: ${palette.deep};\r\n                    font-size: 1.8rem;\r\n                    font-weight: 600;\r\n                    margin-bottom: 5px;\r\n                }\r\n                \r\n                .header-subtitle {\r\n                    text-align: center;\r\n                    color: ${palette.ember};\r\n                    font-size: 0.9rem;\r\n                    margin-bottom: 30px;\r\n                    opacity: 0.8;\r\n                }\r\n\r\n                /* --- FORMS --- */\r\n                .section-label {\r\n                    font-size: 0.85rem;\r\n                    text-transform: uppercase;\r\n                    letter-spacing: 1.5px;\r\n                    color: ${palette.copper};\r\n                    font-weight: 600;\r\n                    margin-bottom: 15px;\r\n                    display: block;\r\n                    border-bottom: 1px solid ${palette.lightSand};\r\n                    padding-bottom: 5px;\r\n                }\r\n\r\n                .input-group {\r\n                    margin-bottom: 20px;\r\n                    position: relative;\r\n                }\r\n\r\n                .modern-input {\r\n                    width: 100%;\r\n                    padding: 14px 16px;\r\n                    border: 1px solid #E0E0E0;\r\n                    background: #FAFAFA;\r\n                    border-radius: 12px;\r\n                    font-size: 0.95rem;\r\n                    color: ${palette.deep};\r\n                    transition: all 0.3s ease;\r\n                    box-sizing: border-box;\r\n                    font-family: inherit;\r\n                }\r\n\r\n                .modern-input:focus {\r\n                    outline: none;\r\n                    border-color: ${palette.copper};\r\n                    background: #FFF;\r\n                    box-shadow: 0 4px 12px rgba(142, 80, 34, 0.1);\r\n                }\r\n\r\n                .modern-textarea {\r\n                    min-height: 100px;\r\n                    resize: vertical;\r\n                }\r\n\r\n                /* --- FILE UPLOAD --- */\r\n                .file-drop-zone {\r\n                    border: 2px dashed ${palette.sand};\r\n                    border-radius: 12px;\r\n                    background: ${palette.lightSand};\r\n                    padding: 25px;\r\n                    text-align: center;\r\n                    cursor: pointer;\r\n                    transition: all 0.3s;\r\n                    position: relative;\r\n                }\r\n\r\n                .file-drop-zone:hover {\r\n                    border-color: ${palette.flame};\r\n                    background: #FFF8F2;\r\n                }\r\n\r\n                .file-input-hidden {\r\n                    position: absolute;\r\n                    top: 0; left: 0; width: 100%; height: 100%;\r\n                    opacity: 0;\r\n                    cursor: pointer;\r\n                }\r\n\r\n                .file-label-text {\r\n                    color: ${palette.ember};\r\n                    font-weight: 500;\r\n                }\r\n\r\n                .file-subtext {\r\n                    font-size: 0.8rem;\r\n                    color: #999;\r\n                    margin-top: 5px;\r\n                }\r\n\r\n                /* --- BUTTONS --- */\r\n                .action-btn {\r\n                    width: 100%;\r\n                    padding: 16px;\r\n                    background: linear-gradient(135deg, ${palette.ember}, ${palette.deep});\r\n                    color: white;\r\n                    border: none;\r\n                    border-radius: 12px;\r\n                    font-size: 1rem;\r\n                    font-weight: 600;\r\n                    cursor: pointer;\r\n                    transition: all 0.3s;\r\n                    display: flex;\r\n                    justify-content: center;\r\n                    align-items: center;\r\n                    gap: 10px;\r\n                    margin-top: 10px;\r\n                }\r\n                \r\n                .action-btn.verify {\r\n                    background: linear-gradient(135deg, ${palette.flame}, ${palette.copper});\r\n                }\r\n\r\n                .action-btn:hover {\r\n                    transform: translateY(-2px);\r\n                    box-shadow: 0 10px 20px rgba(68, 45, 28, 0.2);\r\n                }\r\n\r\n                .action-btn:disabled {\r\n                    background: #CCC;\r\n                    cursor: not-allowed;\r\n                    transform: none;\r\n                    box-shadow: none;\r\n                }\r\n\r\n                .text-btn {\r\n                    background: none;\r\n                    border: none;\r\n                    color: ${palette.flame};\r\n                    font-size: 0.85rem;\r\n                    font-weight: 600;\r\n                    cursor: pointer;\r\n                    text-decoration: underline;\r\n                    float: right;\r\n                }\r\n\r\n                /* --- ANIMATIONS --- */\r\n                @keyframes slideUp {\r\n                    from { opacity: 0; transform: translateY(30px); }\r\n                    to { opacity: 1; transform: translateY(0); }\r\n                }\r\n\r\n                @keyframes spin {\r\n                    0% { transform: rotate(0deg); }\r\n                    100% { transform: rotate(360deg); }\r\n                }\r\n\r\n                .spinner {\r\n                    width: 20px;\r\n                    height: 20px;\r\n                    border: 3px solid rgba(255,255,255,0.3);\r\n                    border-radius: 50%;\r\n                    border-top-color: white;\r\n                    animation: spin 1s linear infinite;\r\n                }\r\n\r\n                .row-group {\r\n                    display: grid;\r\n                    grid-template-columns: 1fr 1fr;\r\n                    gap: 15px;\r\n                }\r\n\r\n                /* OTP Section Animation */\r\n                .otp-section {\r\n                    background: #FFF5F0;\r\n                    border: 1px solid ${palette.sand};\r\n                    padding: 20px;\r\n                    border-radius: 12px;\r\n                    margin-bottom: 20px;\r\n                    animation: slideUp 0.4s ease;\r\n                    text-align: center;\r\n                }\r\n\r\n                .otp-input {\r\n                    text-align: center;\r\n                    letter-spacing: 5px;\r\n                    font-weight: bold;\r\n                    font-size: 1.2rem;\r\n                }\r\n\r\n                /* Skeleton Loader for inputs */\r\n                .skeleton {\r\n                    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n                    background-size: 200% 100%;\r\n                    animation: shimmer 1.5s infinite;\r\n                    color: transparent !important;\r\n                }\r\n\r\n                @keyframes shimmer {\r\n                    0% { background-position: 200% 0; }\r\n                    100% { background-position: -200% 0; }\r\n                }\r\n\r\n                @media (max-width: 600px) {\r\n                    .row-group { grid-template-columns: 1fr; }\r\n                    .custom-card { padding: 25px; }\r\n                }\r\n            `}</style>\r\n\r\n            <div className=\"custom-card\">\r\n                <h2 className=\"header-title\">Create Custom Order</h2>\r\n                <p className=\"header-subtitle\">Bring your unique ideas to life</p>\r\n\r\n                <form onSubmit={otpSent ? handleSubmit : handleRequestOtp}>\r\n                    \r\n                    {/* --- SECTION 1 --- */}\r\n                    <div className=\"input-group\">\r\n                        <label className=\"section-label\">1. Design & Details</label>\r\n                        <textarea \r\n                            name=\"description\" \r\n                            className=\"modern-input modern-textarea\"\r\n                            placeholder=\"Describe your vision (shape, size, function)...\" \r\n                            value={formData.description} \r\n                            onChange={handleChange} \r\n                            required \r\n                            disabled={otpSent} \r\n                        />\r\n                    </div>\r\n                    \r\n                    <div className=\"input-group\">\r\n                        <input \r\n                            name=\"material\" \r\n                            className=\"modern-input\"\r\n                            placeholder=\"Preferred Material (e.g., Clay, Ceramic)\" \r\n                            value={formData.material} \r\n                            onChange={handleChange} \r\n                            required \r\n                            disabled={otpSent} \r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"input-group\">\r\n                        <div className=\"file-drop-zone\">\r\n                            <input \r\n                                type=\"file\" \r\n                                className=\"file-input-hidden\"\r\n                                multiple \r\n                                accept=\".jpg,.png,.jpeg\" \r\n                                onChange={handleFileChange} \r\n                                disabled={otpSent} \r\n                            />\r\n                            <div className=\"file-label-text\">\r\n                                {selectedFiles.length > 0 \r\n                                    ? `${selectedFiles.length} files selected` \r\n                                    : \"Click to Upload Reference Images\"\r\n                                }\r\n                            </div>\r\n                            <div className=\"file-subtext\">Max 5 images (JPG, PNG)</div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* --- SECTION 2 --- */}\r\n                    <div className=\"input-group\">\r\n                        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '10px' }}>\r\n                            <label className=\"section-label\" style={{ marginBottom: 0, border: 'none' }}>2. Shipping Info</label>\r\n                            <button type=\"button\" onClick={() => navigate('/profile')} className=\"text-btn\">Update Address</button>\r\n                        </div>\r\n                        \r\n                        {/* Address Input with Loading State */}\r\n                        <input \r\n                            name=\"address\" \r\n                            className={`modern-input ${isLoadingAddress ? 'skeleton' : ''}`}\r\n                            placeholder=\"Street Address\" \r\n                            value={formData.address} \r\n                            onChange={handleChange} \r\n                            required \r\n                            disabled={otpSent || isLoadingAddress} \r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"input-group row-group\">\r\n                        <input \r\n                            name=\"city\" \r\n                            className={`modern-input ${isLoadingAddress ? 'skeleton' : ''}`}\r\n                            placeholder=\"City\" \r\n                            value={formData.city} \r\n                            onChange={handleChange} \r\n                            required \r\n                            disabled={otpSent || isLoadingAddress} \r\n                        />\r\n                        <input \r\n                            name=\"zip\" \r\n                            className={`modern-input ${isLoadingAddress ? 'skeleton' : ''}`}\r\n                            placeholder=\"Zip Code\" \r\n                            value={formData.zip} \r\n                            onChange={handleChange} \r\n                            required \r\n                            disabled={otpSent || isLoadingAddress} \r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"input-group\">\r\n                        <input \r\n                            name=\"phone\" \r\n                            className={`modern-input ${isLoadingAddress ? 'skeleton' : ''}`}\r\n                            placeholder=\"Phone Number\" \r\n                            value={formData.phone} \r\n                            onChange={handleChange} \r\n                            required \r\n                            disabled={otpSent || isLoadingAddress} \r\n                        />\r\n                    </div>\r\n\r\n                    {/* --- OTP SECTION --- */}\r\n                    {otpSent && (\r\n                        <div className=\"otp-section\">\r\n                            <p style={{ margin: '0 0 10px 0', color: palette.ember, fontSize: '0.9rem' }}>\r\n                                We sent a code to <strong>{user.email}</strong>\r\n                            </p>\r\n                            <input \r\n                                className=\"modern-input otp-input\"\r\n                                placeholder=\"1 2 3 4\" \r\n                                value={otp} \r\n                                onChange={e => setOtp(e.target.value)} \r\n                                required \r\n                            />\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* --- SUBMIT BUTTON --- */}\r\n                    <button \r\n                        type=\"submit\" \r\n                        className={`action-btn ${otpSent ? 'verify' : ''}`}\r\n                        disabled={isSendingOtp || isSubmitting}\r\n                    >\r\n                        {isSendingOtp || isSubmitting ? (\r\n                            <div className=\"spinner\"></div>\r\n                        ) : (\r\n                            otpSent ? \"Confirm Custom Order\" : \"Verify & Continue\"\r\n                        )}\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CustomOrders;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,MAAMC,OAAO,GAAG;EACZC,IAAI,EAAE,SAAS;EACfC,KAAK,EAAE,SAAS;EAChBC,MAAM,EAAE,SAAS;EACjBC,KAAK,EAAE,SAAS;EAChBC,IAAI,EAAE,SAAS;EACfC,SAAS,EAAE,SAAS;EACpBC,KAAK,EAAE,SAAS;EAChBC,OAAO,EAAE,0BAA0B;EACnCC,MAAM,EAAE;AACZ,CAAC;AAED,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACvB,MAAMC,QAAQ,GAAGf,WAAW,CAAC,CAAC;EAC9B,MAAMgB,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EAErD,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGzB,QAAQ,CAAC;IACrC0B,WAAW,EAAE,EAAE;IACfC,QAAQ,EAAE,EAAE;IACZC,OAAO,EAAE,EAAE;IACXC,IAAI,EAAE,EAAE;IACRC,GAAG,EAAE,EAAE;IACPC,KAAK,EAAE;EACX,CAAC,CAAC;EAEF,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGjC,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACkC,GAAG,EAAEC,MAAM,CAAC,GAAGnC,QAAQ,CAAC,EAAE,CAAC;EAClC,MAAM,CAACoC,OAAO,EAAEC,UAAU,CAAC,GAAGrC,QAAQ,CAAC,KAAK,CAAC;;EAE7C;EACA,MAAM,CAACsC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGvC,QAAQ,CAAC,IAAI,CAAC;EAC9D,MAAM,CAACwC,YAAY,EAAEC,eAAe,CAAC,GAAGzC,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAAC0C,YAAY,EAAEC,eAAe,CAAC,GAAG3C,QAAQ,CAAC,KAAK,CAAC;EAEvDC,SAAS,CAAC,MAAM;IACZ,IAAI,CAACkB,IAAI,EAAE;MACPD,QAAQ,CAAC,QAAQ,CAAC;MAClB;IACJ;IAEA,MAAM0B,aAAa,GAAG,MAAAA,CAAA,KAAY;MAC9BL,mBAAmB,CAAC,IAAI,CAAC;MACzB,IAAIpB,IAAI,KAAKA,IAAI,CAAC0B,EAAE,IAAI1B,IAAI,CAAC2B,GAAG,CAAC,EAAE;QAC/B,IAAI;UACA,MAAMC,MAAM,GAAG5B,IAAI,CAAC0B,EAAE,IAAI1B,IAAI,CAAC2B,GAAG;UAClC,MAAME,GAAG,GAAG,MAAM9C,KAAK,CAAC+C,GAAG,CAAC,sDAAsDF,MAAM,EAAE,CAAC;UAE3FtB,WAAW,CAACyB,IAAI,KAAK;YACjB,GAAGA,IAAI;YACPtB,OAAO,EAAEoB,GAAG,CAACG,IAAI,CAACvB,OAAO,IAAI,EAAE;YAC/BC,IAAI,EAAEmB,GAAG,CAACG,IAAI,CAACtB,IAAI,IAAI,EAAE;YACzBC,GAAG,EAAEkB,GAAG,CAACG,IAAI,CAACrB,GAAG,IAAI,EAAE;YACvBC,KAAK,EAAEiB,GAAG,CAACG,IAAI,CAACpB,KAAK,IAAI;UAC7B,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,OAAOqB,GAAG,EAAE;UACVC,OAAO,CAACC,KAAK,CAAC,6BAA6B,EAAEF,GAAG,CAAC;QACrD,CAAC,SAAS;UACNb,mBAAmB,CAAC,KAAK,CAAC;QAC9B;MACJ,CAAC,MAAM;QACHA,mBAAmB,CAAC,KAAK,CAAC;MAC9B;IACJ,CAAC;IAEDK,aAAa,CAAC,CAAC;EACnB,CAAC,EAAE,CAAC1B,QAAQ,CAAC,CAAC;EAEd,MAAMqC,YAAY,GAAIC,CAAC,IAAK/B,WAAW,CAAC;IAAE,GAAGD,QAAQ;IAAE,CAACgC,CAAC,CAACC,MAAM,CAACC,IAAI,GAAGF,CAAC,CAACC,MAAM,CAACE;EAAM,CAAC,CAAC;;EAEzF;EACA,MAAMC,gBAAgB,GAAIJ,CAAC,IAAK;IAC5BvB,gBAAgB,CAAC4B,KAAK,CAACC,IAAI,CAACN,CAAC,CAACC,MAAM,CAACM,KAAK,CAAC,CAAC;EAChD,CAAC;EAED,MAAMC,gBAAgB,GAAG,MAAOR,CAAC,IAAK;IAClCA,CAAC,CAACS,cAAc,CAAC,CAAC;;IAElB;IACA,IAAG,CAACzC,QAAQ,CAACE,WAAW,IAAI,CAACF,QAAQ,CAACG,QAAQ,EAAE;MAC5CuC,KAAK,CAAC,qDAAqD,CAAC;MAC5D;IACJ;IAEAzB,eAAe,CAAC,IAAI,CAAC;IACrB,IAAI;MACA,MAAMvC,KAAK,CAACiE,IAAI,CAAC,oDAAoD,EAAE;QAAEC,KAAK,EAAEjD,IAAI,CAACiD;MAAM,CAAC,CAAC;MAC7F/B,UAAU,CAAC,IAAI,CAAC;MAChB6B,KAAK,CAAC,eAAe/C,IAAI,CAACiD,KAAK,EAAE,CAAC;IACtC,CAAC,CAAC,OAAOhB,GAAG,EAAE;MACVc,KAAK,CAAC,oCAAoC,CAAC;MAC3Cb,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;IACtB,CAAC,SAAS;MACNX,eAAe,CAAC,KAAK,CAAC;IAC1B;EACJ,CAAC;EAED,MAAM4B,YAAY,GAAG,MAAOb,CAAC,IAAK;IAC9BA,CAAC,CAACS,cAAc,CAAC,CAAC;IAClBtB,eAAe,CAAC,IAAI,CAAC;IAErB,IAAI;MACA,MAAMQ,IAAI,GAAG,IAAImB,QAAQ,CAAC,CAAC;;MAE3B;MACAnB,IAAI,CAACoB,MAAM,CAAC,QAAQ,EAAEpD,IAAI,CAAC0B,EAAE,IAAI1B,IAAI,CAAC2B,GAAG,CAAC,CAAC,CAAC;MAC5CK,IAAI,CAACoB,MAAM,CAAC,OAAO,EAAEpD,IAAI,CAACiD,KAAK,CAAC;MAChCjB,IAAI,CAACoB,MAAM,CAAC,KAAK,EAAErC,GAAG,CAAC;MACvBiB,IAAI,CAACoB,MAAM,CAAC,cAAc,EAAEpD,IAAI,CAACuC,IAAI,CAAC;MACtCP,IAAI,CAACoB,MAAM,CAAC,WAAW,EAAE,QAAQ,CAAC;MAClCpB,IAAI,CAACoB,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC;;MAExB;MACA;MACA;MACApB,IAAI,CAACoB,MAAM,CAAC,aAAa,EAAE/C,QAAQ,CAACE,WAAW,CAAC;MAChDyB,IAAI,CAACoB,MAAM,CAAC,UAAU,EAAE/C,QAAQ,CAACG,QAAQ,CAAC;;MAE1C;MACAwB,IAAI,CAACoB,MAAM,CAAC,SAAS,EAAE/C,QAAQ,CAACI,OAAO,CAAC;MACxCuB,IAAI,CAACoB,MAAM,CAAC,MAAM,EAAE/C,QAAQ,CAACK,IAAI,CAAC;MAClCsB,IAAI,CAACoB,MAAM,CAAC,KAAK,EAAE/C,QAAQ,CAACM,GAAG,CAAC;MAChCqB,IAAI,CAACoB,MAAM,CAAC,OAAO,EAAE/C,QAAQ,CAACO,KAAK,CAAC;;MAEpC;MACAC,aAAa,CAACwC,OAAO,CAAEC,IAAI,IAAK;QAC5BtB,IAAI,CAACoB,MAAM,CAAC,cAAc,EAAEE,IAAI,CAAC;MACrC,CAAC,CAAC;;MAEF;MACA,KAAK,IAAI,CAACC,GAAG,EAAEf,KAAK,CAAC,IAAIR,IAAI,CAACwB,OAAO,CAAC,CAAC,EAAE;QACrCtB,OAAO,CAACuB,GAAG,CAAC,GAAGF,GAAG,GAAG,EAAEf,KAAK,CAAC;MACjC;MAEA,MAAMX,GAAG,GAAG,MAAM9C,KAAK,CAACiE,IAAI,CAAC,2CAA2C,EAAEhB,IAAI,EAAE;QAC5E0B,OAAO,EAAE;UAAE,cAAc,EAAE;QAAsB;MACrD,CAAC,CAAC;MAEF,IAAI7B,GAAG,CAACG,IAAI,CAAC2B,OAAO,EAAE;QAClBZ,KAAK,CAAC,mCAAmC,CAAC;QAC1ChD,QAAQ,CAAC,SAAS,CAAC;MACvB;IACJ,CAAC,CAAC,OAAOkC,GAAG,EAAE;MAAA,IAAA2B,aAAA,EAAAC,cAAA,EAAAC,mBAAA;MACV5B,OAAO,CAACC,KAAK,CAAC,eAAe,EAAE,EAAAyB,aAAA,GAAA3B,GAAG,CAAC8B,QAAQ,cAAAH,aAAA,uBAAZA,aAAA,CAAc5B,IAAI,KAAIC,GAAG,CAAC;MACzDc,KAAK,CAAC,EAAAc,cAAA,GAAA5B,GAAG,CAAC8B,QAAQ,cAAAF,cAAA,wBAAAC,mBAAA,GAAZD,cAAA,CAAc7B,IAAI,cAAA8B,mBAAA,uBAAlBA,mBAAA,CAAoBE,OAAO,KAAI,mBAAmB,CAAC;IAC7D,CAAC,SAAS;MACNxC,eAAe,CAAC,KAAK,CAAC;IAC1B;EACJ,CAAC;EAED,oBACItC,OAAA;IAAK+E,SAAS,EAAC,cAAc;IAAAC,QAAA,gBACzBhF,OAAA;MAAAgF,QAAA,EAAQ;AACpB;AACA;AACA;AACA;AACA,sEAAsE/E,OAAO,CAACM,SAAS;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkCN,OAAO,CAACO,KAAK;AAC/C;AACA;AACA,8CAA8CP,OAAO,CAACS,MAAM;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyDT,OAAO,CAACG,MAAM,KAAKH,OAAO,CAACI,KAAK;AACzF;AACA;AACA;AACA;AACA,6BAA6BJ,OAAO,CAACC,IAAI;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6BD,OAAO,CAACE,KAAK;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6BF,OAAO,CAACG,MAAM;AAC3C;AACA;AACA;AACA,+CAA+CH,OAAO,CAACM,SAAS;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6BN,OAAO,CAACC,IAAI;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoCD,OAAO,CAACG,MAAM;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyCH,OAAO,CAACK,IAAI;AACrD;AACA,kCAAkCL,OAAO,CAACM,SAAS;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoCN,OAAO,CAACI,KAAK;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6BJ,OAAO,CAACE,KAAK;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0DF,OAAO,CAACE,KAAK,KAAKF,OAAO,CAACC,IAAI;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0DD,OAAO,CAACI,KAAK,KAAKJ,OAAO,CAACG,MAAM;A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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
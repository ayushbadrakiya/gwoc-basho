{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AYUSH\\\\OneDrive\\\\Desktop\\\\gwoc\\\\client\\\\src\\\\pages\\\\Profile.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst palette = {\n  deep: '#442D1C',\n  ember: '#652810',\n  copper: '#8E5022',\n  flame: '#C85428',\n  sand: '#EDD8B4',\n  lightSand: '#F9F3E9',\n  white: '#FFFFFF',\n  shadow: 'rgba(68, 45, 28, 0.08)',\n  danger: '#D32F2F',\n  success: '#2E7D32',\n  warning: '#F57C00'\n};\nconst Profile = () => {\n  _s();\n  const navigate = useNavigate();\n  const user = JSON.parse(localStorage.getItem('user'));\n\n  // --- TABS & DATA STATE ---\n  const [activeTab, setActiveTab] = useState('profile');\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    phone: '',\n    address: '',\n    city: '',\n    zip: ''\n  });\n  const [orders, setOrders] = useState([]);\n\n  // Loading States\n  const [loadingProfile, setLoadingProfile] = useState(true);\n  const [loadingOrders, setLoadingOrders] = useState(false);\n  const [isUpdating, setIsUpdating] = useState(false);\n  const [isCancelling, setIsCancelling] = useState(false);\n  const [isSendingOtp, setIsSendingOtp] = useState(false);\n\n  // --- CANCELLATION STATE ---\n  const [showCancelModal, setShowCancelModal] = useState(false);\n  const [selectedOrder, setSelectedOrder] = useState(null);\n  const [otp, setOtp] = useState('');\n  const [otpSent, setOtpSent] = useState(false);\n\n  // --- IMAGE PREVIEW STATE ---\n  const [previewImage, setPreviewImage] = useState(null);\n  useEffect(() => {\n    if (!user) {\n      navigate('/login');\n      return;\n    }\n    fetchProfile();\n    fetchOrders();\n  }, []);\n  const fetchProfile = async () => {\n    setLoadingProfile(true);\n    try {\n      const res = await axios.get(`https://gwoc-basho-1.onrender.com/api/auth/profile/${user.id || user._id}`);\n      setFormData({\n        name: res.data.name || '',\n        email: res.data.email || '',\n        phone: res.data.phone || '',\n        address: res.data.address || '',\n        city: res.data.city || '',\n        zip: res.data.zip || ''\n      });\n    } catch (err) {\n      console.error(err);\n    }\n    setLoadingProfile(false);\n  };\n  const fetchOrders = async () => {\n    setLoadingOrders(true);\n    try {\n      const res = await axios.get(`https://gwoc-basho-1.onrender.com/api/orders/user/${user.id}?email=${user.email}`);\n      setOrders(res.data);\n    } catch (err) {\n      console.error(err);\n    }\n    setLoadingOrders(false);\n  };\n  const handleUpdate = async e => {\n    e.preventDefault();\n    setIsUpdating(true);\n    try {\n      const res = await axios.put('https://gwoc-basho-1.onrender.com/api/auth/profile/update', {\n        userId: user.id || user._id,\n        ...formData\n      });\n      if (res.data.success) {\n        alert(\"Profile Updated Successfully!\");\n        let currentUser = JSON.parse(localStorage.getItem('user'));\n        localStorage.setItem('user', JSON.stringify({\n          ...currentUser,\n          ...res.data.user\n        }));\n      }\n    } catch (err) {\n      alert(\"Update Failed\");\n    }\n    setIsUpdating(false);\n  };\n\n  // --- CANCELLATION HANDLERS ---\n  const initiateCancel = order => {\n    setSelectedOrder(order);\n    setOtp('');\n    setOtpSent(false);\n    setShowCancelModal(true);\n  };\n  const requestCancelOtp = async () => {\n    setIsSendingOtp(true);\n    try {\n      await axios.post('https://gwoc-basho-1.onrender.com/api/auth/req-otp', {\n        email: user.email\n      });\n      setOtpSent(true);\n      alert(`OTP sent to ${user.email}`);\n    } catch (err) {\n      alert(\"Failed to send OTP\");\n    }\n    setIsSendingOtp(false);\n  };\n  const CLOUD_NAME = \"dnbplr9pw\";\n  const confirmCancel = async () => {\n    setIsCancelling(true);\n    try {\n      const url = `https://gwoc-basho-1.onrender.com/api/orders/${selectedOrder._id}/cancel`;\n      const res = await axios.post(url, {\n        email: user.email,\n        otp: otp,\n        isAdmin: false\n      });\n      if (res.data.success || res.status === 200) {\n        alert(\"Order Cancelled Successfully\");\n        setShowCancelModal(false);\n        fetchOrders();\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      alert(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Cancellation Failed\");\n    }\n    setIsCancelling(false);\n  };\n  if (!user) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n                @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap');\n\n                .profile-page {\n                    padding: 40px 20px;\n                    min-height: 100vh;\n                    background: radial-gradient(circle at top left, ${palette.lightSand}, #F2E6D8);\n                    font-family: 'Poppins', sans-serif;\n                    color: ${palette.deep};\n                }\n\n                .container {\n                    max-width: 900px;\n                    margin: 0 auto;\n                    background: ${palette.white};\n                    border-radius: 20px;\n                    box-shadow: 0 20px 60px ${palette.shadow}, 0 0 0 1px rgba(142, 80, 34, 0.05);\n                    overflow: hidden;\n                    animation: slideUp 0.6s ease-out;\n                }\n\n                /* --- TABS --- */\n                .tab-header {\n                    display: flex;\n                    background: #FAF8F5;\n                    border-bottom: 1px solid rgba(142, 80, 34, 0.1);\n                }\n\n                .tab-btn {\n                    flex: 1;\n                    padding: 20px;\n                    text-align: center;\n                    cursor: pointer;\n                    font-weight: 600;\n                    color: ${palette.copper};\n                    background: transparent;\n                    transition: all 0.3s ease;\n                    border-bottom: 3px solid transparent;\n                    opacity: 0.6;\n                }\n\n                .tab-btn:hover {\n                    background: rgba(237, 216, 180, 0.2);\n                    opacity: 0.8;\n                }\n\n                .tab-btn.active {\n                    color: ${palette.flame};\n                    border-bottom-color: ${palette.flame};\n                    background: ${palette.white};\n                    opacity: 1;\n                }\n\n                .content-area {\n                    padding: 40px;\n                    min-height: 400px;\n                }\n\n                /* --- FORMS --- */\n                .section-title {\n                    margin: 0 0 20px 0;\n                    color: ${palette.deep};\n                    font-size: 1.2rem;\n                    border-left: 4px solid ${palette.flame};\n                    padding-left: 15px;\n                }\n\n                .input-group {\n                    margin-bottom: 20px;\n                }\n\n                .modern-label {\n                    display: block;\n                    margin-bottom: 8px;\n                    font-size: 0.9rem;\n                    font-weight: 500;\n                    color: ${palette.ember};\n                }\n\n                .modern-input {\n                    width: 100%;\n                    padding: 12px 16px;\n                    border: 1px solid #E0E0E0;\n                    background: #FAFAFA;\n                    border-radius: 10px;\n                    font-size: 1rem;\n                    transition: all 0.3s;\n                    box-sizing: border-box;\n                    font-family: inherit;\n                }\n\n                .modern-input:focus {\n                    outline: none;\n                    border-color: ${palette.copper};\n                    background: #FFF;\n                    box-shadow: 0 4px 10px rgba(142, 80, 34, 0.1);\n                }\n\n                .modern-input:disabled {\n                    background: #EEE;\n                    color: #888;\n                }\n\n                .row-group {\n                    display: grid;\n                    grid-template-columns: 1fr 1fr;\n                    gap: 20px;\n                }\n\n                /* --- ORDER CARDS --- */\n                .order-card {\n                    border: 1px solid rgba(142, 80, 34, 0.1);\n                    border-radius: 16px;\n                    padding: 20px;\n                    margin-bottom: 20px;\n                    background: #FFF;\n                    transition: all 0.3s;\n                    position: relative;\n                }\n\n                .order-card:hover {\n                    transform: translateY(-3px);\n                    box-shadow: 0 10px 25px rgba(0,0,0,0.05);\n                    border-color: ${palette.sand};\n                }\n\n                /* HEADER: Status & Date */\n                .order-header {\n                    display: flex;\n                    justify-content: space-between;\n                    align-items: flex-start;\n                    margin-bottom: 15px;\n                }\n\n                .status-badge {\n                    padding: 6px 12px;\n                    border-radius: 20px;\n                    font-size: 0.8rem;\n                    font-weight: 600;\n                    display: inline-block;\n                }\n\n                .status-cancelled { background: #FFEBEE; color: ${palette.danger}; }\n                .status-delivered { background: #E8F5E9; color: ${palette.success}; }\n                .status-processing { background: #FFF3E0; color: ${palette.warning}; }\n\n                .cancel-btn {\n                    padding: 8px 16px;\n                    background: transparent;\n                    border: 1px solid ${palette.flame};\n                    color: ${palette.flame};\n                    border-radius: 8px;\n                    cursor: pointer;\n                    font-size: 0.85rem;\n                    font-weight: 600;\n                    transition: 0.3s;\n                }\n\n                .cancel-btn:hover {\n                    background: ${palette.flame};\n                    color: white;\n                }\n\n                /* BODY: Image & Details */\n                .order-body {\n                    display: flex;\n                    gap: 15px;\n                    align-items: flex-start;\n                }\n\n                .order-thumbnail {\n                    width: 70px;\n                    height: 70px;\n                    object-fit: cover;\n                    border-radius: 12px;\n                    border: 1px solid #EEE;\n                    flex-shrink: 0; /* Prevents image from shrinking */\n                }\n\n                .order-info {\n                    flex: 1;\n                    min-width: 0; /* Important for text-overflow to work in flex */\n                }\n\n                /* --- CUSTOM ORDER DETAILS --- */\n                .custom-details-box {\n                    background: #FAFAFA;\n                    padding: 15px;\n                    border-radius: 12px;\n                    margin-top: 15px;\n                    border: 1px dashed ${palette.sand};\n                    width: 100%;\n                    box-sizing: border-box;\n                }\n                \n                .custom-label {\n                    font-size: 0.8rem;\n                    color: #888;\n                    text-transform: uppercase;\n                    letter-spacing: 1px;\n                    font-weight: bold;\n                    display: block;\n                    margin-bottom: 5px;\n                }\n\n                .custom-text {\n                    font-size: 0.95rem;\n                    color: ${palette.deep};\n                    margin-bottom: 15px;\n                    line-height: 1.5;\n                    word-wrap: break-word; /* Fix for long text overflow */\n                }\n\n                .image-gallery {\n                    display: flex;\n                    gap: 10px;\n                    flex-wrap:wrap;\n                    padding-bottom: 5px;\n                }\n\n                .gallery-img {\n                    width: 70px;\n                    height: 70px;\n                    object-fit: cover;\n                    border-radius: 8px;\n                    cursor: pointer;\n                    border: 1px solid #EEE;\n                    transition: transform 0.2s;\n                    flex-shrink: 0;\n                }\n                .gallery-img:hover { transform: scale(1.05); border-color: ${palette.copper}; }\n\n                /* --- MODAL --- */\n                .modal-overlay {\n                    position: fixed;\n                    top: 0; left: 0; width: 100%; height: 100%;\n                    background: rgba(68, 45, 28, 0.6);\n                    backdrop-filter: blur(4px);\n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                    z-index: 1000;\n                    animation: fadeIn 0.3s;\n                }\n\n                .modal-box {\n                    width: 90%;\n                    max-width: 420px;\n                    background: ${palette.white};\n                    padding: 30px;\n                    border-radius: 16px;\n                    box-shadow: 0 25px 50px rgba(0,0,0,0.2);\n                    animation: scaleUp 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);\n                    text-align: center;\n                }\n\n                .preview-img-large {\n                    max-width: 100%;\n                    max-height: 80vh;\n                    border-radius: 10px;\n                    box-shadow: 0 10px 40px rgba(0,0,0,0.3);\n                }\n\n                /* --- BUTTONS & SPINNERS --- */\n                .primary-btn {\n                    width: 100%;\n                    padding: 14px;\n                    background: linear-gradient(135deg, ${palette.flame}, ${palette.ember});\n                    color: white;\n                    border: none;\n                    border-radius: 10px;\n                    cursor: pointer;\n                    font-size: 1rem;\n                    font-weight: 600;\n                    margin-top: 10px;\n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                    transition: 0.3s;\n                }\n                \n                .primary-btn:hover:not(:disabled) {\n                    transform: translateY(-2px);\n                    box-shadow: 0 10px 20px rgba(200, 84, 40, 0.2);\n                }\n\n                .primary-btn:disabled {\n                    opacity: 0.7;\n                    cursor: not-allowed;\n                }\n\n                @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }\n                @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }\n                @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }\n                @keyframes scaleUp { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }\n\n                .spinner {\n                    width: 18px;\n                    height: 18px;\n                    border: 2px solid rgba(255,255,255,0.3);\n                    border-radius: 50%;\n                    border-top-color: #FFF;\n                    animation: spin 0.8s linear infinite;\n                }\n\n                /* --- RESPONSIVE MEDIA QUERIES --- */\n                @media (max-width: 600px) {\n                    .profile-page { padding: 20px 10px; }\n                    .content-area { padding: 20px; }\n                    .row-group { grid-template-columns: 1fr; }\n                    \n                    /* STACK ORDER BODY ON MOBILE */\n                    .order-body {\n                        flex-direction: column; /* This fixes the squishing */\n                        gap: 15px;\n                    }\n                    \n                    .order-thumbnail {\n                        width: 100%;\n                        height: 150px; /* Larger image on mobile */\n                        object-fit: cover;\n                    }\n\n                    .order-header {\n                        flex-direction: column;\n                        align-items: flex-start;\n                        gap: 10px;\n                    }\n                    \n                    .cancel-btn {\n                        width: 100%;\n                        text-align: center;\n                    }\n                }\n            `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tab-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `tab-btn ${activeTab === 'profile' ? 'active' : ''}`,\n          onClick: () => setActiveTab('profile'),\n          children: \"\\uD83D\\uDC64 Profile Settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `tab-btn ${activeTab === 'orders' ? 'active' : ''}`,\n          onClick: () => setActiveTab('orders'),\n          children: \"\\uD83D\\uDCE6 My Orders\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content-area\",\n        children: [activeTab === 'profile' && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            animation: 'fadeIn 0.5s'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleUpdate,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"section-title\",\n              children: \"Account Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"modern-label\",\n                children: \"Full Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"modern-input\",\n                name: \"name\",\n                value: formData.name,\n                onChange: e => setFormData({\n                  ...formData,\n                  name: e.target.value\n                }),\n                disabled: loadingProfile\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 499,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"modern-label\",\n                children: \"Email Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 509,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"modern-input\",\n                name: \"email\",\n                value: formData.email,\n                disabled: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 510,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"section-title\",\n              style: {\n                marginTop: '30px'\n              },\n              children: \"Shipping Information\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 518,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"modern-label\",\n                children: \"Phone Number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 521,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"modern-input\",\n                name: \"phone\",\n                value: formData.phone,\n                onChange: e => setFormData({\n                  ...formData,\n                  phone: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 522,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 520,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"modern-label\",\n                children: \"Street Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 531,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                className: \"modern-input\",\n                name: \"address\",\n                value: formData.address,\n                onChange: e => setFormData({\n                  ...formData,\n                  address: e.target.value\n                }),\n                style: {\n                  height: '80px',\n                  resize: 'vertical'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 530,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"modern-label\",\n                  children: \"City\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 543,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"modern-input\",\n                  name: \"city\",\n                  placeholder: \"City\",\n                  value: formData.city,\n                  onChange: e => setFormData({\n                    ...formData,\n                    city: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 544,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"modern-label\",\n                  children: \"Zip Code\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 553,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"modern-input\",\n                  name: \"zip\",\n                  placeholder: \"Zip\",\n                  value: formData.zip,\n                  onChange: e => setFormData({\n                    ...formData,\n                    zip: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 554,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 552,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"primary-btn\",\n              disabled: isUpdating,\n              children: isUpdating ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"spinner\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 565,\n                columnNumber: 51\n              }, this) : \"Save Changes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 564,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 25\n        }, this), activeTab === 'orders' && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            animation: 'fadeIn 0.5s'\n          },\n          children: loadingOrders ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: 'center',\n              padding: '40px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"spinner\",\n              style: {\n                borderColor: palette.copper,\n                borderTopColor: 'transparent',\n                margin: '0 auto'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 576,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                marginTop: '10px',\n                color: '#999'\n              },\n              children: \"Fetching orders...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 577,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 575,\n            columnNumber: 33\n          }, this) : orders.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: 'center',\n              padding: '60px',\n              color: '#888'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '3rem',\n                marginBottom: '10px'\n              },\n              children: \"\\uD83D\\uDCE6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 581,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"No orders yet!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 582,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Your history will appear here once you make a purchase.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 583,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 580,\n            columnNumber: 33\n          }, this) : orders.map(order => {\n            var _order$customDetails, _order$customDetails2;\n            let statusClass = 'status-processing';\n            if (order.status === 'CANCELLED') statusClass = 'status-cancelled';else if (order.trackingStatus === 'Delivered') statusClass = 'status-delivered';\n\n            // Determine Image to show (Standard or First Custom Image)\n            let displayImage = null;\n            if (order.orderType === 'STANDARD' && order.productImage) {\n              displayImage = order.productImage;\n            } else if (order.orderType === 'CUSTOM' && order.customImages && order.customImages.length > 0) {\n              displayImage = order.customImages[0];\n            }\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"order-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"order-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `status-badge ${statusClass}`,\n                    children: order.status === 'CANCELLED' ? 'CANCELLED' : order.trackingStatus || 'Processing'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 604,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      marginTop: '8px',\n                      fontSize: '0.85rem',\n                      color: '#999'\n                    },\n                    children: [\"Placed on \", new Date(order.createdAt).toLocaleDateString()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 607,\n                    columnNumber: 53\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 603,\n                  columnNumber: 49\n                }, this), order.status !== 'CANCELLED' && order.trackingStatus !== 'Delivered' && /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => initiateCancel(order),\n                  className: \"cancel-btn\",\n                  children: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 614,\n                  columnNumber: 53\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 602,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"order-body\",\n                children: [displayImage ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: displayImage.startsWith('http') ? displayImage : `https://res.cloudinary.com/${CLOUD_NAME}/image/upload/${displayImage}`,\n                  alt: \"item\",\n                  className: \"order-thumbnail\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 624,\n                  columnNumber: 53\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"order-thumbnail\",\n                  style: {\n                    background: '#E0E0E0',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    color: '#888',\n                    fontSize: '0.7rem'\n                  },\n                  children: \"No Img\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 634,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"order-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    style: {\n                      margin: '0 0 4px 0',\n                      color: palette.deep,\n                      fontSize: '1.1rem'\n                    },\n                    children: order.orderType === 'STANDARD' ? order.productName : 'Custom Request'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 640,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      margin: 0,\n                      fontSize: '0.9rem',\n                      color: palette.flame,\n                      fontWeight: '600'\n                    },\n                    children: order.amount > 0 ? `â‚¹${order.amount}` : 'Quote Pending'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 643,\n                    columnNumber: 53\n                  }, this), order.orderType === 'CUSTOM' && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"custom-details-box\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"custom-label\",\n                      children: \"Description\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 650,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"custom-text\",\n                      children: order.description || ((_order$customDetails = order.customDetails) === null || _order$customDetails === void 0 ? void 0 : _order$customDetails.description) || \"No description provided.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 651,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"custom-label\",\n                      children: \"Material\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 655,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"custom-text\",\n                      children: order.material || ((_order$customDetails2 = order.customDetails) === null || _order$customDetails2 === void 0 ? void 0 : _order$customDetails2.material) || \"Not specified\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 656,\n                      columnNumber: 61\n                    }, this), order.customImages && order.customImages.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"custom-label\",\n                        children: \"Reference Images\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 662,\n                        columnNumber: 69\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"image-gallery\",\n                        children: order.customImages.map((img, idx) => /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: img.startsWith('http') ? img : `https://res.cloudinary.com/${CLOUD_NAME}/image/upload/${img}`,\n                          alt: `ref-${idx}`,\n                          className: \"gallery-img\",\n                          onClick: () => setPreviewImage(img.startsWith('http') ? img : `https://res.cloudinary.com/${CLOUD_NAME}/image/upload/${img}`)\n                        }, idx, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 665,\n                          columnNumber: 77\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 663,\n                        columnNumber: 69\n                      }, this)]\n                    }, void 0, true)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 649,\n                    columnNumber: 57\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 639,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 621,\n                columnNumber: 45\n              }, this)]\n            }, order._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 600,\n              columnNumber: 41\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 573,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 13\n    }, this), showCancelModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            marginTop: 0,\n            color: palette.deep\n          },\n          children: \"Cancel Order?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 701,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '0.95rem',\n            color: '#666',\n            marginBottom: '25px',\n            lineHeight: '1.5'\n          },\n          children: [\"Are you sure you want to cancel \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 703,\n            columnNumber: 61\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: (selectedOrder === null || selectedOrder === void 0 ? void 0 : selectedOrder.productName) || 'this Item'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 704,\n            columnNumber: 29\n          }, this), \"?\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 702,\n          columnNumber: 25\n        }, this), !otpSent ? /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: requestCancelOtp,\n          className: \"primary-btn\",\n          disabled: isSendingOtp,\n          children: isSendingOtp ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spinner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 709,\n            columnNumber: 49\n          }, this) : \"Send OTP to Confirm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 708,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            animation: 'fadeIn 0.5s'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '0.85rem',\n              color: palette.flame,\n              marginBottom: '10px'\n            },\n            children: [\"OTP sent to \", user.email]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 713,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"modern-input\",\n            placeholder: \"Enter OTP\",\n            value: otp,\n            onChange: e => setOtp(e.target.value),\n            style: {\n              textAlign: 'center',\n              letterSpacing: '4px',\n              fontWeight: 'bold',\n              fontSize: '1.2rem',\n              marginBottom: '15px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 716,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: confirmCancel,\n            className: \"primary-btn\",\n            disabled: isCancelling,\n            children: isCancelling ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"spinner\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 724,\n              columnNumber: 53\n            }, this) : \"Confirm Cancellation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 723,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 712,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowCancelModal(false),\n          style: {\n            background: 'transparent',\n            border: 'none',\n            color: '#999',\n            marginTop: '15px',\n            cursor: 'pointer',\n            textDecoration: 'underline'\n          },\n          children: \"Nevermind, keep order\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 729,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 700,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 699,\n      columnNumber: 17\n    }, this), previewImage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: () => setPreviewImage(null),\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: previewImage,\n        alt: \"Preview\",\n        className: \"preview-img-large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 742,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 741,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 9\n  }, this);\n};\n_s(Profile, \"FVo/LLLienV/CHAw89WyHjLQVaw=\", false, function () {\n  return [useNavigate];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","palette","deep","ember","copper","flame","sand","lightSand","white","shadow","danger","success","warning","Profile","_s","navigate","user","JSON","parse","localStorage","getItem","activeTab","setActiveTab","formData","setFormData","name","email","phone","address","city","zip","orders","setOrders","loadingProfile","setLoadingProfile","loadingOrders","setLoadingOrders","isUpdating","setIsUpdating","isCancelling","setIsCancelling","isSendingOtp","setIsSendingOtp","showCancelModal","setShowCancelModal","selectedOrder","setSelectedOrder","otp","setOtp","otpSent","setOtpSent","previewImage","setPreviewImage","fetchProfile","fetchOrders","res","get","id","_id","data","err","console","error","handleUpdate","e","preventDefault","put","userId","alert","currentUser","setItem","stringify","initiateCancel","order","requestCancelOtp","post","CLOUD_NAME","confirmCancel","url","isAdmin","status","_err$response","_err$response$data","response","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","style","animation","onSubmit","value","onChange","target","disabled","marginTop","height","resize","placeholder","type","textAlign","padding","borderColor","borderTopColor","margin","color","length","fontSize","marginBottom","map","_order$customDetails","_order$customDetails2","statusClass","trackingStatus","displayImage","orderType","productImage","customImages","Date","createdAt","toLocaleDateString","src","startsWith","alt","background","display","alignItems","justifyContent","productName","fontWeight","amount","description","customDetails","material","img","idx","lineHeight","letterSpacing","border","cursor","textDecoration","_c","$RefreshReg$"],"sources":["C:/Users/AYUSH/OneDrive/Desktop/gwoc/client/src/pages/Profile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst palette = {\r\n    deep: '#442D1C',\r\n    ember: '#652810',\r\n    copper: '#8E5022',\r\n    flame: '#C85428',\r\n    sand: '#EDD8B4',\r\n    lightSand: '#F9F3E9',\r\n    white: '#FFFFFF',\r\n    shadow: 'rgba(68, 45, 28, 0.08)',\r\n    danger: '#D32F2F',\r\n    success: '#2E7D32',\r\n    warning: '#F57C00'\r\n};\r\n\r\nconst Profile = () => {\r\n    const navigate = useNavigate();\r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n\r\n    // --- TABS & DATA STATE ---\r\n    const [activeTab, setActiveTab] = useState('profile');\r\n    const [formData, setFormData] = useState({\r\n        name: '', email: '', phone: '', address: '', city: '', zip: ''\r\n    });\r\n    const [orders, setOrders] = useState([]);\r\n\r\n    // Loading States\r\n    const [loadingProfile, setLoadingProfile] = useState(true);\r\n    const [loadingOrders, setLoadingOrders] = useState(false);\r\n    const [isUpdating, setIsUpdating] = useState(false);\r\n    const [isCancelling, setIsCancelling] = useState(false);\r\n    const [isSendingOtp, setIsSendingOtp] = useState(false);\r\n\r\n    // --- CANCELLATION STATE ---\r\n    const [showCancelModal, setShowCancelModal] = useState(false);\r\n    const [selectedOrder, setSelectedOrder] = useState(null);\r\n    const [otp, setOtp] = useState('');\r\n    const [otpSent, setOtpSent] = useState(false);\r\n\r\n    // --- IMAGE PREVIEW STATE ---\r\n    const [previewImage, setPreviewImage] = useState(null);\r\n\r\n    useEffect(() => {\r\n        if (!user) { navigate('/login'); return; }\r\n        fetchProfile();\r\n        fetchOrders();\r\n    }, []);\r\n\r\n    const fetchProfile = async () => {\r\n        setLoadingProfile(true);\r\n        try {\r\n            const res = await axios.get(`https://gwoc-basho-1.onrender.com/api/auth/profile/${user.id || user._id}`);\r\n            setFormData({\r\n                name: res.data.name || '',\r\n                email: res.data.email || '',\r\n                phone: res.data.phone || '',\r\n                address: res.data.address || '',\r\n                city: res.data.city || '',\r\n                zip: res.data.zip || ''\r\n            });\r\n        } catch (err) { console.error(err); }\r\n        setLoadingProfile(false);\r\n    };\r\n\r\n    const fetchOrders = async () => {\r\n        setLoadingOrders(true);\r\n        try {\r\n            const res = await axios.get(`https://gwoc-basho-1.onrender.com/api/orders/user/${user.id}?email=${user.email}`);\r\n            setOrders(res.data);\r\n        } catch (err) { console.error(err); }\r\n        setLoadingOrders(false);\r\n    };\r\n\r\n    const handleUpdate = async (e) => {\r\n        e.preventDefault();\r\n        setIsUpdating(true);\r\n        try {\r\n            const res = await axios.put('https://gwoc-basho-1.onrender.com/api/auth/profile/update', {\r\n                userId: user.id || user._id,\r\n                ...formData\r\n            });\r\n            if (res.data.success) {\r\n                alert(\"Profile Updated Successfully!\");\r\n                let currentUser = JSON.parse(localStorage.getItem('user'));\r\n                localStorage.setItem('user', JSON.stringify({ ...currentUser, ...res.data.user }));\r\n            }\r\n        } catch (err) { alert(\"Update Failed\"); }\r\n        setIsUpdating(false);\r\n    };\r\n\r\n    // --- CANCELLATION HANDLERS ---\r\n    const initiateCancel = (order) => {\r\n        setSelectedOrder(order);\r\n        setOtp('');\r\n        setOtpSent(false);\r\n        setShowCancelModal(true);\r\n    };\r\n\r\n    const requestCancelOtp = async () => {\r\n        setIsSendingOtp(true);\r\n        try {\r\n            await axios.post('https://gwoc-basho-1.onrender.com/api/auth/req-otp', { email: user.email });\r\n            setOtpSent(true);\r\n            alert(`OTP sent to ${user.email}`);\r\n        } catch (err) { alert(\"Failed to send OTP\"); }\r\n        setIsSendingOtp(false);\r\n    };\r\n    const CLOUD_NAME = \"dnbplr9pw\";\r\n    const confirmCancel = async () => {\r\n        setIsCancelling(true);\r\n        try {\r\n            const url = `https://gwoc-basho-1.onrender.com/api/orders/${selectedOrder._id}/cancel`;\r\n            const res = await axios.post(url, {\r\n                email: user.email,\r\n                otp: otp,\r\n                isAdmin: false\r\n            });\r\n\r\n            if (res.data.success || res.status === 200) {\r\n                alert(\"Order Cancelled Successfully\");\r\n                setShowCancelModal(false);\r\n                fetchOrders();\r\n            }\r\n        } catch (err) {\r\n            alert(err.response?.data?.message || \"Cancellation Failed\");\r\n        }\r\n        setIsCancelling(false);\r\n    };\r\n\r\n    if (!user) return null;\r\n\r\n    return (\r\n        <div className=\"profile-page\">\r\n            <style>{`\r\n                @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap');\r\n\r\n                .profile-page {\r\n                    padding: 40px 20px;\r\n                    min-height: 100vh;\r\n                    background: radial-gradient(circle at top left, ${palette.lightSand}, #F2E6D8);\r\n                    font-family: 'Poppins', sans-serif;\r\n                    color: ${palette.deep};\r\n                }\r\n\r\n                .container {\r\n                    max-width: 900px;\r\n                    margin: 0 auto;\r\n                    background: ${palette.white};\r\n                    border-radius: 20px;\r\n                    box-shadow: 0 20px 60px ${palette.shadow}, 0 0 0 1px rgba(142, 80, 34, 0.05);\r\n                    overflow: hidden;\r\n                    animation: slideUp 0.6s ease-out;\r\n                }\r\n\r\n                /* --- TABS --- */\r\n                .tab-header {\r\n                    display: flex;\r\n                    background: #FAF8F5;\r\n                    border-bottom: 1px solid rgba(142, 80, 34, 0.1);\r\n                }\r\n\r\n                .tab-btn {\r\n                    flex: 1;\r\n                    padding: 20px;\r\n                    text-align: center;\r\n                    cursor: pointer;\r\n                    font-weight: 600;\r\n                    color: ${palette.copper};\r\n                    background: transparent;\r\n                    transition: all 0.3s ease;\r\n                    border-bottom: 3px solid transparent;\r\n                    opacity: 0.6;\r\n                }\r\n\r\n                .tab-btn:hover {\r\n                    background: rgba(237, 216, 180, 0.2);\r\n                    opacity: 0.8;\r\n                }\r\n\r\n                .tab-btn.active {\r\n                    color: ${palette.flame};\r\n                    border-bottom-color: ${palette.flame};\r\n                    background: ${palette.white};\r\n                    opacity: 1;\r\n                }\r\n\r\n                .content-area {\r\n                    padding: 40px;\r\n                    min-height: 400px;\r\n                }\r\n\r\n                /* --- FORMS --- */\r\n                .section-title {\r\n                    margin: 0 0 20px 0;\r\n                    color: ${palette.deep};\r\n                    font-size: 1.2rem;\r\n                    border-left: 4px solid ${palette.flame};\r\n                    padding-left: 15px;\r\n                }\r\n\r\n                .input-group {\r\n                    margin-bottom: 20px;\r\n                }\r\n\r\n                .modern-label {\r\n                    display: block;\r\n                    margin-bottom: 8px;\r\n                    font-size: 0.9rem;\r\n                    font-weight: 500;\r\n                    color: ${palette.ember};\r\n                }\r\n\r\n                .modern-input {\r\n                    width: 100%;\r\n                    padding: 12px 16px;\r\n                    border: 1px solid #E0E0E0;\r\n                    background: #FAFAFA;\r\n                    border-radius: 10px;\r\n                    font-size: 1rem;\r\n                    transition: all 0.3s;\r\n                    box-sizing: border-box;\r\n                    font-family: inherit;\r\n                }\r\n\r\n                .modern-input:focus {\r\n                    outline: none;\r\n                    border-color: ${palette.copper};\r\n                    background: #FFF;\r\n                    box-shadow: 0 4px 10px rgba(142, 80, 34, 0.1);\r\n                }\r\n\r\n                .modern-input:disabled {\r\n                    background: #EEE;\r\n                    color: #888;\r\n                }\r\n\r\n                .row-group {\r\n                    display: grid;\r\n                    grid-template-columns: 1fr 1fr;\r\n                    gap: 20px;\r\n                }\r\n\r\n                /* --- ORDER CARDS --- */\r\n                .order-card {\r\n                    border: 1px solid rgba(142, 80, 34, 0.1);\r\n                    border-radius: 16px;\r\n                    padding: 20px;\r\n                    margin-bottom: 20px;\r\n                    background: #FFF;\r\n                    transition: all 0.3s;\r\n                    position: relative;\r\n                }\r\n\r\n                .order-card:hover {\r\n                    transform: translateY(-3px);\r\n                    box-shadow: 0 10px 25px rgba(0,0,0,0.05);\r\n                    border-color: ${palette.sand};\r\n                }\r\n\r\n                /* HEADER: Status & Date */\r\n                .order-header {\r\n                    display: flex;\r\n                    justify-content: space-between;\r\n                    align-items: flex-start;\r\n                    margin-bottom: 15px;\r\n                }\r\n\r\n                .status-badge {\r\n                    padding: 6px 12px;\r\n                    border-radius: 20px;\r\n                    font-size: 0.8rem;\r\n                    font-weight: 600;\r\n                    display: inline-block;\r\n                }\r\n\r\n                .status-cancelled { background: #FFEBEE; color: ${palette.danger}; }\r\n                .status-delivered { background: #E8F5E9; color: ${palette.success}; }\r\n                .status-processing { background: #FFF3E0; color: ${palette.warning}; }\r\n\r\n                .cancel-btn {\r\n                    padding: 8px 16px;\r\n                    background: transparent;\r\n                    border: 1px solid ${palette.flame};\r\n                    color: ${palette.flame};\r\n                    border-radius: 8px;\r\n                    cursor: pointer;\r\n                    font-size: 0.85rem;\r\n                    font-weight: 600;\r\n                    transition: 0.3s;\r\n                }\r\n\r\n                .cancel-btn:hover {\r\n                    background: ${palette.flame};\r\n                    color: white;\r\n                }\r\n\r\n                /* BODY: Image & Details */\r\n                .order-body {\r\n                    display: flex;\r\n                    gap: 15px;\r\n                    align-items: flex-start;\r\n                }\r\n\r\n                .order-thumbnail {\r\n                    width: 70px;\r\n                    height: 70px;\r\n                    object-fit: cover;\r\n                    border-radius: 12px;\r\n                    border: 1px solid #EEE;\r\n                    flex-shrink: 0; /* Prevents image from shrinking */\r\n                }\r\n\r\n                .order-info {\r\n                    flex: 1;\r\n                    min-width: 0; /* Important for text-overflow to work in flex */\r\n                }\r\n\r\n                /* --- CUSTOM ORDER DETAILS --- */\r\n                .custom-details-box {\r\n                    background: #FAFAFA;\r\n                    padding: 15px;\r\n                    border-radius: 12px;\r\n                    margin-top: 15px;\r\n                    border: 1px dashed ${palette.sand};\r\n                    width: 100%;\r\n                    box-sizing: border-box;\r\n                }\r\n                \r\n                .custom-label {\r\n                    font-size: 0.8rem;\r\n                    color: #888;\r\n                    text-transform: uppercase;\r\n                    letter-spacing: 1px;\r\n                    font-weight: bold;\r\n                    display: block;\r\n                    margin-bottom: 5px;\r\n                }\r\n\r\n                .custom-text {\r\n                    font-size: 0.95rem;\r\n                    color: ${palette.deep};\r\n                    margin-bottom: 15px;\r\n                    line-height: 1.5;\r\n                    word-wrap: break-word; /* Fix for long text overflow */\r\n                }\r\n\r\n                .image-gallery {\r\n                    display: flex;\r\n                    gap: 10px;\r\n                    flex-wrap:wrap;\r\n                    padding-bottom: 5px;\r\n                }\r\n\r\n                .gallery-img {\r\n                    width: 70px;\r\n                    height: 70px;\r\n                    object-fit: cover;\r\n                    border-radius: 8px;\r\n                    cursor: pointer;\r\n                    border: 1px solid #EEE;\r\n                    transition: transform 0.2s;\r\n                    flex-shrink: 0;\r\n                }\r\n                .gallery-img:hover { transform: scale(1.05); border-color: ${palette.copper}; }\r\n\r\n                /* --- MODAL --- */\r\n                .modal-overlay {\r\n                    position: fixed;\r\n                    top: 0; left: 0; width: 100%; height: 100%;\r\n                    background: rgba(68, 45, 28, 0.6);\r\n                    backdrop-filter: blur(4px);\r\n                    display: flex;\r\n                    justify-content: center;\r\n                    align-items: center;\r\n                    z-index: 1000;\r\n                    animation: fadeIn 0.3s;\r\n                }\r\n\r\n                .modal-box {\r\n                    width: 90%;\r\n                    max-width: 420px;\r\n                    background: ${palette.white};\r\n                    padding: 30px;\r\n                    border-radius: 16px;\r\n                    box-shadow: 0 25px 50px rgba(0,0,0,0.2);\r\n                    animation: scaleUp 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);\r\n                    text-align: center;\r\n                }\r\n\r\n                .preview-img-large {\r\n                    max-width: 100%;\r\n                    max-height: 80vh;\r\n                    border-radius: 10px;\r\n                    box-shadow: 0 10px 40px rgba(0,0,0,0.3);\r\n                }\r\n\r\n                /* --- BUTTONS & SPINNERS --- */\r\n                .primary-btn {\r\n                    width: 100%;\r\n                    padding: 14px;\r\n                    background: linear-gradient(135deg, ${palette.flame}, ${palette.ember});\r\n                    color: white;\r\n                    border: none;\r\n                    border-radius: 10px;\r\n                    cursor: pointer;\r\n                    font-size: 1rem;\r\n                    font-weight: 600;\r\n                    margin-top: 10px;\r\n                    display: flex;\r\n                    justify-content: center;\r\n                    align-items: center;\r\n                    transition: 0.3s;\r\n                }\r\n                \r\n                .primary-btn:hover:not(:disabled) {\r\n                    transform: translateY(-2px);\r\n                    box-shadow: 0 10px 20px rgba(200, 84, 40, 0.2);\r\n                }\r\n\r\n                .primary-btn:disabled {\r\n                    opacity: 0.7;\r\n                    cursor: not-allowed;\r\n                }\r\n\r\n                @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }\r\n                @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }\r\n                @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }\r\n                @keyframes scaleUp { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }\r\n\r\n                .spinner {\r\n                    width: 18px;\r\n                    height: 18px;\r\n                    border: 2px solid rgba(255,255,255,0.3);\r\n                    border-radius: 50%;\r\n                    border-top-color: #FFF;\r\n                    animation: spin 0.8s linear infinite;\r\n                }\r\n\r\n                /* --- RESPONSIVE MEDIA QUERIES --- */\r\n                @media (max-width: 600px) {\r\n                    .profile-page { padding: 20px 10px; }\r\n                    .content-area { padding: 20px; }\r\n                    .row-group { grid-template-columns: 1fr; }\r\n                    \r\n                    /* STACK ORDER BODY ON MOBILE */\r\n                    .order-body {\r\n                        flex-direction: column; /* This fixes the squishing */\r\n                        gap: 15px;\r\n                    }\r\n                    \r\n                    .order-thumbnail {\r\n                        width: 100%;\r\n                        height: 150px; /* Larger image on mobile */\r\n                        object-fit: cover;\r\n                    }\r\n\r\n                    .order-header {\r\n                        flex-direction: column;\r\n                        align-items: flex-start;\r\n                        gap: 10px;\r\n                    }\r\n                    \r\n                    .cancel-btn {\r\n                        width: 100%;\r\n                        text-align: center;\r\n                    }\r\n                }\r\n            `}</style>\r\n\r\n            <div className=\"container\">\r\n                {/* TABS HEADER */}\r\n                <div className=\"tab-header\">\r\n                    <div\r\n                        className={`tab-btn ${activeTab === 'profile' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('profile')}\r\n                    >\r\n                        ðŸ‘¤ Profile Settings\r\n                    </div>\r\n                    <div\r\n                        className={`tab-btn ${activeTab === 'orders' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('orders')}\r\n                    >\r\n                        ðŸ“¦ My Orders\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"content-area\">\r\n                    {/* === TAB 1: PROFILE === */}\r\n                    {activeTab === 'profile' && (\r\n                        <div style={{ animation: 'fadeIn 0.5s' }}>\r\n                            <form onSubmit={handleUpdate}>\r\n                                <h3 className=\"section-title\">Account Details</h3>\r\n\r\n                                <div className=\"input-group\">\r\n                                    <label className=\"modern-label\">Full Name</label>\r\n                                    <input\r\n                                        className=\"modern-input\"\r\n                                        name=\"name\"\r\n                                        value={formData.name}\r\n                                        onChange={e => setFormData({ ...formData, name: e.target.value })}\r\n                                        disabled={loadingProfile}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"input-group\">\r\n                                    <label className=\"modern-label\">Email Address</label>\r\n                                    <input\r\n                                        className=\"modern-input\"\r\n                                        name=\"email\"\r\n                                        value={formData.email}\r\n                                        disabled\r\n                                    />\r\n                                </div>\r\n\r\n                                <h3 className=\"section-title\" style={{ marginTop: '30px' }}>Shipping Information</h3>\r\n\r\n                                <div className=\"input-group\">\r\n                                    <label className=\"modern-label\">Phone Number</label>\r\n                                    <input\r\n                                        className=\"modern-input\"\r\n                                        name=\"phone\"\r\n                                        value={formData.phone}\r\n                                        onChange={e => setFormData({ ...formData, phone: e.target.value })}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"input-group\">\r\n                                    <label className=\"modern-label\">Street Address</label>\r\n                                    <textarea\r\n                                        className=\"modern-input\"\r\n                                        name=\"address\"\r\n                                        value={formData.address}\r\n                                        onChange={e => setFormData({ ...formData, address: e.target.value })}\r\n                                        style={{ height: '80px', resize: 'vertical' }}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"row-group\">\r\n                                    <div className=\"input-group\">\r\n                                        <label className=\"modern-label\">City</label>\r\n                                        <input\r\n                                            className=\"modern-input\"\r\n                                            name=\"city\"\r\n                                            placeholder=\"City\"\r\n                                            value={formData.city}\r\n                                            onChange={e => setFormData({ ...formData, city: e.target.value })}\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"input-group\">\r\n                                        <label className=\"modern-label\">Zip Code</label>\r\n                                        <input\r\n                                            className=\"modern-input\"\r\n                                            name=\"zip\"\r\n                                            placeholder=\"Zip\"\r\n                                            value={formData.zip}\r\n                                            onChange={e => setFormData({ ...formData, zip: e.target.value })}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <button type=\"submit\" className=\"primary-btn\" disabled={isUpdating}>\r\n                                    {isUpdating ? <div className=\"spinner\"></div> : \"Save Changes\"}\r\n                                </button>\r\n                            </form>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* === TAB 2: ORDERS === */}\r\n                    {activeTab === 'orders' && (\r\n                        <div style={{ animation: 'fadeIn 0.5s' }}>\r\n                            {loadingOrders ? (\r\n                                <div style={{ textAlign: 'center', padding: '40px' }}>\r\n                                    <div className=\"spinner\" style={{ borderColor: palette.copper, borderTopColor: 'transparent', margin: '0 auto' }}></div>\r\n                                    <p style={{ marginTop: '10px', color: '#999' }}>Fetching orders...</p>\r\n                                </div>\r\n                            ) : orders.length === 0 ? (\r\n                                <div style={{ textAlign: 'center', padding: '60px', color: '#888' }}>\r\n                                    <div style={{ fontSize: '3rem', marginBottom: '10px' }}>ðŸ“¦</div>\r\n                                    <h3>No orders yet!</h3>\r\n                                    <p>Your history will appear here once you make a purchase.</p>\r\n                                </div>\r\n                            ) : (\r\n                                orders.map(order => {\r\n                                    let statusClass = 'status-processing';\r\n                                    if (order.status === 'CANCELLED') statusClass = 'status-cancelled';\r\n                                    else if (order.trackingStatus === 'Delivered') statusClass = 'status-delivered';\r\n\r\n                                    // Determine Image to show (Standard or First Custom Image)\r\n                                    let displayImage = null;\r\n                                    if (order.orderType === 'STANDARD' && order.productImage) {\r\n                                        displayImage = order.productImage;\r\n                                    } else if (order.orderType === 'CUSTOM' && order.customImages && order.customImages.length > 0) {\r\n                                        displayImage = order.customImages[0];\r\n                                    }\r\n\r\n                                    return (\r\n                                        <div key={order._id} className=\"order-card\">\r\n                                            {/* HEADER ROW */}\r\n                                            <div className=\"order-header\">\r\n                                                <div>\r\n                                                    <span className={`status-badge ${statusClass}`}>\r\n                                                        {order.status === 'CANCELLED' ? 'CANCELLED' : order.trackingStatus || 'Processing'}\r\n                                                    </span>\r\n                                                    <div style={{ marginTop: '8px', fontSize: '0.85rem', color: '#999' }}>\r\n                                                        Placed on {new Date(order.createdAt).toLocaleDateString()}\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                {/* CANCEL BUTTON */}\r\n                                                {order.status !== 'CANCELLED' && order.trackingStatus !== 'Delivered' && (\r\n                                                    <button onClick={() => initiateCancel(order)} className=\"cancel-btn\">\r\n                                                        Cancel\r\n                                                    </button>\r\n                                                )}\r\n                                            </div>\r\n\r\n                                            {/* BODY ROW (Stacks on mobile via CSS) */}\r\n                                            <div className=\"order-body\">\r\n                                                {/* Thumbnail Image */}\r\n                                                {displayImage ? (\r\n                                                    <img\r\n                                                        src={\r\n                                                            displayImage.startsWith('http')\r\n                                                                ? displayImage\r\n                                                                : `https://res.cloudinary.com/${CLOUD_NAME}/image/upload/${displayImage}`\r\n                                                        }\r\n                                                        alt=\"item\"\r\n                                                        className=\"order-thumbnail\"\r\n                                                    />\r\n                                                ) : (\r\n                                                    <div className=\"order-thumbnail\" style={{ background: '#E0E0E0', display: 'flex', alignItems: 'center', justifyContent: 'center', color: '#888', fontSize: '0.7rem' }}>\r\n                                                        No Img\r\n                                                    </div>\r\n                                                )}\r\n\r\n                                                <div className=\"order-info\">\r\n                                                    <h4 style={{ margin: '0 0 4px 0', color: palette.deep, fontSize: '1.1rem' }}>\r\n                                                        {order.orderType === 'STANDARD' ? order.productName : 'Custom Request'}\r\n                                                    </h4>\r\n                                                    <p style={{ margin: 0, fontSize: '0.9rem', color: palette.flame, fontWeight: '600' }}>\r\n                                                        {order.amount > 0 ? `â‚¹${order.amount}` : 'Quote Pending'}\r\n                                                    </p>\r\n\r\n                                                    {/* --- CUSTOM ORDER DETAILS --- */}\r\n                                                    {order.orderType === 'CUSTOM' && (\r\n                                                        <div className=\"custom-details-box\">\r\n                                                            <span className=\"custom-label\">Description</span>\r\n                                                            <p className=\"custom-text\">\r\n                                                                {order.description || order.customDetails?.description || \"No description provided.\"}\r\n                                                            </p>\r\n\r\n                                                            <span className=\"custom-label\">Material</span>\r\n                                                            <p className=\"custom-text\">\r\n                                                                {order.material || order.customDetails?.material || \"Not specified\"}\r\n                                                            </p>\r\n\r\n                                                            {order.customImages && order.customImages.length > 0 && (\r\n                                                                <>\r\n                                                                    <span className=\"custom-label\">Reference Images</span>\r\n                                                                    <div className=\"image-gallery\">\r\n                                                                        {order.customImages.map((img, idx) => (\r\n                                                                            <img\r\n                                                                                key={idx}\r\n                                                                                src={\r\n                                                                                    img.startsWith('http')\r\n                                                                                        ? img\r\n                                                                                        : `https://res.cloudinary.com/${CLOUD_NAME}/image/upload/${img}`\r\n                                                                                }\r\n                                                                                alt={`ref-${idx}`}\r\n                                                                                className=\"gallery-img\"\r\n                                                                                onClick={() => setPreviewImage(\r\n                                                                                    img.startsWith('http')\r\n                                                                                        ? img\r\n                                                                                        : `https://res.cloudinary.com/${CLOUD_NAME}/image/upload/${img}`\r\n                                                                                )}\r\n                                                                            />\r\n                                                                        ))}\r\n                                                                    </div>\r\n                                                                </>\r\n                                                            )}\r\n                                                        </div>\r\n                                                    )}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    );\r\n                                })\r\n                            )}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* === CANCEL MODAL === */}\r\n            {showCancelModal && (\r\n                <div className=\"modal-overlay\">\r\n                    <div className=\"modal-box\">\r\n                        <h3 style={{ marginTop: 0, color: palette.deep }}>Cancel Order?</h3>\r\n                        <p style={{ fontSize: '0.95rem', color: '#666', marginBottom: '25px', lineHeight: '1.5' }}>\r\n                            Are you sure you want to cancel <br />\r\n                            <strong>{selectedOrder?.productName || 'this Item'}</strong>?\r\n                        </p>\r\n\r\n                        {!otpSent ? (\r\n                            <button onClick={requestCancelOtp} className=\"primary-btn\" disabled={isSendingOtp}>\r\n                                {isSendingOtp ? <div className=\"spinner\"></div> : \"Send OTP to Confirm\"}\r\n                            </button>\r\n                        ) : (\r\n                            <div style={{ animation: 'fadeIn 0.5s' }}>\r\n                                <p style={{ fontSize: '0.85rem', color: palette.flame, marginBottom: '10px' }}>\r\n                                    OTP sent to {user.email}\r\n                                </p>\r\n                                <input\r\n                                    className=\"modern-input\"\r\n                                    placeholder=\"Enter OTP\"\r\n                                    value={otp}\r\n                                    onChange={e => setOtp(e.target.value)}\r\n                                    style={{ textAlign: 'center', letterSpacing: '4px', fontWeight: 'bold', fontSize: '1.2rem', marginBottom: '15px' }}\r\n                                />\r\n                                <button onClick={confirmCancel} className=\"primary-btn\" disabled={isCancelling}>\r\n                                    {isCancelling ? <div className=\"spinner\"></div> : \"Confirm Cancellation\"}\r\n                                </button>\r\n                            </div>\r\n                        )}\r\n\r\n                        <button\r\n                            onClick={() => setShowCancelModal(false)}\r\n                            style={{ background: 'transparent', border: 'none', color: '#999', marginTop: '15px', cursor: 'pointer', textDecoration: 'underline' }}\r\n                        >\r\n                            Nevermind, keep order\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* === IMAGE PREVIEW MODAL === */}\r\n            {previewImage && (\r\n                <div className=\"modal-overlay\" onClick={() => setPreviewImage(null)}>\r\n                    <img src={previewImage} alt=\"Preview\" className=\"preview-img-large\" />\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Profile;"],"mappings":"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AA,EAAQ;AACpB;AACA;AACA;AACA;AACA;AACA,sEAAsErF,OAAO,CAACM,SAAS;AACvF;AACA,6BAA6BN,OAAO,CAACC,IAAI;AACzC;AACA;AACA;AACA;AACA;AACA,kCAAkCD,OAAO,CAACO,KAAK;AAC/C;AACA,8CAA8CP,OAAO,CAACQ,MAAM;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6BR,OAAO,CAACG,MAAM;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6BH,OAAO,CAACI,KAAK;AAC1C,2CAA2CJ,OAAO,CAACI,KAAK;AACxD,kCAAkCJ,OAAO,CAACO,KAAK;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6BP,OAAO,CAACC,IAAI;AACzC;AACA,6CAA6CD,OAAO,CAACI,KAAK;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6BJ,OAAO,CAACE,KAAK;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoCF,OAAO,CAACG,MAAM;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoCH,OAAO,CAACK,IAAI;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkEL,OAAO,CAACS,MAAM;AAChF,kEAAkET,OAAO,CAACU,OAAO;AACjF,mEAAmEV,OAAO,CAACW,OAAO;AAClF;AACA;AACA;AACA;AACA,wCAAwCX,OAAO,CAACI,KAAK;AACrD,6BAA6BJ,OAAO,CAACI,KAAK;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkCJ,OAAO,CAACI,KAAK;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyCJ,OAAO,CAACK,IAAI;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6BL,OAAO,CAACC,IAAI;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6EAA6ED,OAAO,CAACG,MAAM;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkCH,OAAO,CAACO,KAAK;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0DP,OAAO,CAACI,KAAK,KAAKJ,OAAO,CAACE,KAAK;AACzF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAa;MAAAoF,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAEV5F,OAAA;MAAKuF,SAAS,EAAC,WAAW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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}